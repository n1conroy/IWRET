<html>
<head>

<link rel="stylesheet" href="static/css/jquery-ui.css" />
<script src="static/js/jquery-1.9.1.js"></script>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script type="text/javascript" src="http://mpld3.github.io/js/mpld3.v0.1.js"></script>
<script src="static/js/jquery-ui.js"></script>
<strong>
   <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
   <link rel="stylesheet" href="{{ url_for('static', filename='css/lean-slider.css') }}">
   <link rel="stylesheet" href="{{ url_for('static', filename='css/sample-styles.css') }}">
   <link rel="stylesheet" href="../static/css/styles.css">
   <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</strong>

</head>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<body>

<table>

<tr class="top" >
<td class="banner1" ><a class=titlebar href="" >INTEGRATED WATER RESOURCES EVALUATION TOOL</a></td>
<td  id="welcome">WELCOME</td>

<td id="logobox" rowspan="3">
<img height=60px src="../static/images/waterfront.png">
<img height=60px src="../static/images/ryerson.png">
</td>
<tr>
<td colspan="2" class="banner2"><h5>assessing metabolic performance of hybrid water systems</h5></td>
</tr>
<tr class="banner3" >
<td colspan=2 class="banner3"><img class="menuitem" src="../static/images/folder.png"><label class="menuitemword" for="file_input_id">&nbspLoad Project</label><input type="file" id="file_input_id">&nbsp  &nbsp&nbsp&nbsp <a  href='#' onclick='downloadCSV({ filename: "form-data.csv" });'>&nbsp<img src="../static/images/save.png" class="menuitem">&nbsp<span class="menuitemword"> Save Project</span></a>&nbsp&nbsp&nbsp<a href='#'>&nbsp<img src="../static/images/information.png" class="menuitem"><span class="menuitmeword">&nbsp&nbspDocumentation</span></a> &nbsp&nbsp&nbsp <a href='#'><img src="../static/images/about.png" class="menuitem"><span="menuitemword">&nbspAbout </span></a> </td>
</tr>

<tr>

<td style={height:700px;} colspan="2"  >
<div>
<img class="mainpic" src="../static/images/iwret_9_background.png" width=80%></img>

    <ul class="menu">
      <li><a href="{{ url_for('home') }}">Home</a></li>
    </ul>
<div id="loading-div-background">
   <div id="loading-div" class="ui-corner-all" >
   <img style="height:64px;margin:10px;" src="static/css/images/282.GIF" alt="Loading.."/>
   <h3 style="color:gray;font-weight:normal;">Running Simulation...</h3>
  </div>
</div>



 
</div>
</div>
</td>

<td rowspan=2 valign=top id="mainmenu">
<br>
<center>MAIN MENU
<br><br><br>
<br>
<font size=2>SYSTEM COMPONENTS</font>
<Br><br><br>
</center>


<!-- ******************************************************    -->
<!-- *****     BEGINNING OF NEIGHBOURHOOD PROPERTIES  *****    -->
<!-- ******************************************************    -->


<a class="popup-trigger" rel="nofollow">Neighborhood Properties</a>
<br>
<div class="popup" style="height:600px;">
<form id="NeighborhoodPropertiesForm" method="POST">
<input type="hidden" name="formId" value="NeighborhoodProperties">

<table class="formcontainer" >
<tr>
<td>
<h3 id="myModalLabel">Neighborhood Properties</h3>
</td>
<td align=right class="popup-btn-close">
close

</td>
</tr>
<tr>
<td colspan=2 >
<table cellpadding=10>
<tr class=formsection2><td>
<label>Project Information</label>
  <br><input type="text"  value="Name of Neighborhood" size="30" name="NP Project Information" >
</td><td><label>Simulation Time [years]</label>
  <br><input type="number" min="0" max="100" step="1" value="0" size="30" name="NP Simulation Time" >
 </td><td> <label>Project Title</label>
  <br><input type="text" value="Scenario" size="30" name="NP Project Title" >
</td></tr></table>
</td>
</tr>
<tr >
<td rowspan=2 class=formsection2>
<h3>Single Family Units</h3>
 <label>Initial Number of Units [%]</label>
  <br><input type="number" min="0" max="10000" step="100" value="3000" size="30" name="SF Initial Stock of Units" >
 <br><label>Number of Units Decomissioned per Year [#]</label>
  <br><input type="number" min="0" max="1000" step="100" value="0" size="30" name="SF Decommissioned Units Annually" >
 <br><label>Number of Units Built per Year [#]</label>
  <br><input type="number" min="0" max="1000" step="10" value="0" size="30" name="SF New Units Annually" >
<br><label>Average Size of a Lot [m2]</label>
  <br><input type="number" min="0" max="1000" step="10" value="400" size="30" name="SF Average Lot Size" >
 <br><label>Lawn area [%]</label>
  <br><input type="number" min="0" max="1" step=".1" value="1" size="30" name="SF Lawn Area" >
 <br><label>Average Occupancy [Persons]</label>
  <br><input type="number" min="0.5" max="5" step=".1" value="2.2" size="30" name="SF Average Occupancy per Unit" >
</td>
<td class=formsection2 valign=top>
<h3> Multi Family Units</h3>
<label>Initial Number of Units [%]</label>
  <br><input type="number" min="0" max="10000" step="100" value="0" size="30" name="MF Initial Stock of Units" >
 <br><label>Number of Units Decomissioned per Year [#]</label>
  <br><input type="number" min="0" max="1000" step="1" value="0" size="30" name="MF Decommissioned Units Annually" >
 <br><label>Number of Units Built per Year [#]</label>
  <br><input type="number" min="0" max="1000" step="1" value="150" size="30" name="MF New Units Annually" >
 <br><label>Average Occupancy [Persons]</label>
  <br><input type="number" min="0.5" max="5" step="0.1" value="1.9" size="30" name="MF Average Occupancy per Unit" >
</td>
</tr>
<tr>
<td class=formsection2>
<h3>Global Variables</h3>
<label>Price of Electricity [Dollars/kWh]</label>
  <br><input type="number" min="1" max="50" step="1" value="0.11" size="30" name="Electricity Fee" >
 <!-- <br><label>Electricity Generation Emission Factor per Year [kgCO2/kWh]</label>
  <br><input type="number" min="0" max="100" step="1" value="0.348" size="30" name="GWP Price per kWh" >-->
 <br><label>Construction and installation costs for 1m2 of asphalt</label>
  <br><input type="number" min="0" max="10000" step="1" value="1000" size="30" name="Asphalt CC Unit Cost" >
   <br><label>Construction and installation GHG emission for 1m2 of asphalt</label>
  <br><input type="number" min="0" max="5" step="0.1" value="1.1" size="30" name="Asphalt Unit GHG Emissions" >
   <br><label>Construction and installation embodied energy for 1m2 of asphalt</label>
  <br><input type="number" min="0" max="5" step="0.1" value="0.8" size="30" name="Asphalt Unit Energy" >

</td>
</tr>
<tr>
<td colspan=2 class=formsection2>
<label for="file_input_id">Import Climate Data from File ..</label><input type="file" name="NP Climate Data File">
</td>
</tr>
</tr>
<tr>
<td>
 <button type="button" style="font-size: 14px; height:40px; width:160px;" id="NeighborhoodPropertiesQuery">Run Simulation</button>
</td>
</tr>
</table>
</div>
</form>
<script>
  $("#NeighborhoodPropertiesQuery").click(function() {  
  $(this).parent().parent().parent().parent().parent().parent().hide();
  $("#loading-div-background").show();
  $(".mainpic").hide();
  var qu ={};
  $("form#NeighborhoodPropertiesForm :input").each(function() {
        qu[$(this).attr("name")] = $(this).val();
  });
  $.ajax({
    type: "POST",
    async:true,
    contentType: "application/json; charset=utf-8",
    url: "/query",
    data: JSON.stringify(qu),
    dataType: "html",
    success: function(response)
	 {     
	 $("#loading-div-background").hide();   
	 $(".menu").show();
         document.write(response);
     }
   });
});

 

</script>

<!-- *** END OF NEIGHBOURHOOD PROPERTIES ****		       -->

<!-- ******************************************************    -->
<!-- *****     BEGINNING OF WATER DISTRIBUTION NETWORK*****    -->
<!-- ******************************************************    -->


<a class="popup-trigger" rel="nofollow">Water Distribution Network </a>
<br>
<div class="popup" style="height:550px">
<form id="WaterDistributionNetworkForm" method="POST">
<table class="formcontainer">
<tr>
<td>
<h3 id="myModalLabel">Water Distribution Network</h3>
</td>
<td align=right colspan=2 class="popup-btn-close">
close
<br>
<span class="update_note"></span>
</td>
</tr>
<tr>
<td class=formsection2 valign=top>
<h3>Water Supply Conducts (WSC)</h3>
<label>Total carrying capacity of water conduit[m3/day]</label>
  <br><input type="number" min="0" max="50000" step="100"  value="15000" size="30" name="Water Conduit Daily Capacity" >
  <br><label>Leakage Percentage [%]</label>
  <br><input type="number" min="0" max="100" step="1" value="90" size="30" name="Water Conduit Available Capacity" >
  <br><label>Replacement Cost [$]</label>
  <br><input type="number" min="0" max="15000000" step="1000" value="0" size="30" name="WSC Replacement" >
 <br><label>Disposal Cost [$]</label>
  <br><input type="number" min="0" max="15000000" step="1000" value="0" width="230" name="WSC Disposal" >
  <br><label>Construction Cost [$]</label>
  <br><input type="number" min="0" max="15000000" step="1000" value="0" size="10" name="WSC Construction" >
  <br><label>Annual Maintenance[$]</label>
  <br><input type="number" min="0" max="15000000" step="1000" value="1000000" size="10" name="WSC Annual Maintenance" >
</td>
<td valign=top class="formsection2">
 <h3>Water Trunk Mains (WTM)</h3>
  <br><label>Replacement cost [$]</label>
  <br><input type="number" min="0" max="100" step="1" value="50.0" size="30" name="WTM Replacement" >
 <br><label>Disposal cost [$]</label>
  <br><input type="number" min="0" max="100" step="1" value="50.0" width="230" name="WTM Disposal" >
  <br><label>Construction cost [$]</label>
  <br><input type="number" min="0" max="100" step="1" value="50.0" size="10" name="WTM Construction" >
  <br><label>Annual maintenance costs[$]</label>
  <br><input type="number" min="0" max="100" step="1" value="50.0" size="10" name="WTM Annual Maintenace" >
</td> 
<tr >
<tr>
<td colspan=3>
<center><h3 id="myModalLabel">Water Distribution Mains (WDM)</h3>
</center>
</td>
</tr>
<td class=formsection2 valign=top >
<label><b>Material 1</b></label><br>
    <select width=200px>
        <option   value="Ductile Iron" name="WDM Material 1" selected>Ductile Iron</option>         
        <option  value ="Grey Cast Iron" name="WDM Material 1">Grey Cast Iron</option>                 
        <option  value ="Concrete" name="WDM Material 1">Concrete</option>                  
	<option  value ="Mild Steel" name="WDM Material 1">Mild Steel</option>                  
        <option  value ="PE" name="WDM Material 1">PE</option>                  
        <option  value ="PVC" name="WDM Material 1">PVC</option>                  
  </select>
  <br><label>Unit Weight of 1m of Material [kg/m]</label>
  <br><input type="number" min="100" max="2000" step="10" value="1300" size="30" name="WDM Unit Weight M1" >
  <br><label>Total Length [in]</label>
  <br><input type="number" min="1" max="10000" step="10" value="4000" size="30" name="WDM Total Length M1" >
  <br><label>Embodied Energy for Construction [kWh/kg]</label>
  <br><input type="number" min=".1" max="5" step=".1" value="0.9" size="30" name="WDS Unit Construction Energy M1" >
 <br><label>Embodied GH/G for Construction [kg CO2-EQ/kg]</label>
  <br><input type="number" min=".1" max="5" step="0.01" value="2.36" width="230" name="WDS Unit Construction GHG M1" >
  <br><label>Embodied Energy Maintenance [kWh/trip]</label>
  <br><input type="number" min=".1" max="5" step=".1" value="0.1" size="10" name="WDS Unit Maintenance Energy M1" >
  <br><label>Embodied GHG Maintenance [kg CO2-EQ/trip]</label>    
  <br><input type="number" min=".1" max="5" step=".1" value="0.1" size="10" name="WDS Unit Maintenance GHG M1" >
</td>
<td valign=top class=formsection2 >
  <label><b>Material 2</b></label><br>
    <select width=200px>
        <option   value="Ductile Iron" name="WDM Material 2" selected>Ductile Iron</option>         
        <option  value ="Grey Cast Iron" name="WDM Material 2">Grey Cast Iron</option>                 
        <option  value ="Concrete" name="WDM Material 2">Concrete</option>                  
	<option  value ="Mild Steel" name="WDM Material 2">Mild Steel</option>                  
        <option  value ="PE" name="WDM Material 2">PE</option>                  
        <option  value ="PVC" name="WDM Material 2">PVC</option>                  
  </select>
  <br><label>Unit Weight of 1m of Material [kg/m]</label>
  <br><input type="number" min="0.1" max="5.0" step="0.1" value="0.1" size="30" name="WDM Unit Weight M2" >  
  <br><label>Total Length [in]</label>
  <br><input type="number" min="1" max="10000" step="1" value="1" size="30" name="WDM Total Length M2" >
  <br><label>Embodied Energy for Construction [kWh/kg]</label>
  <br><input type="number" min=".1" max="5" step=".1" value="0.1" size="30" name="WDS Unit Construction Energy M2" >
  <br><label>Embodied GHG for Construction [kg CO2-EQ/kg]</label>
  <br><input type="number" min=".1" max="5" step=".1" value="0.1" width="230" name="WDS Unit Construction GHG M2" >
  <br><label>Embodied Energy Mainenance [kWh/trip]</label>
  <br><input type="number" min=".1" max="5" step=".1" value="0.1" size="10" name="WDS Unit Maintenance Energy M2" >
  <br><label>Embodied GHG Maintenance [kg CO2-EQ/trip]</label>
  <br><input type="number" min=".1" max="5" step=".1" value="0.1" size="10" name="WDS Unit Maintenance GHG M2" >
</td>
<td class=formsection2>
  <label><b>Life Cycle Costs (LCL)</b></label><br>
  <label>Number of trips required for annual maintenance</label><br>
  <input type="number" min="1" max="100" step="1" value="5" size="30" name="WDN Number of Maintenance Trips" >
  <br><label>Replacement Costs [$]</label>
  <br><input type="number" min="0" max="15000000" step="1000" value="0" size="30" name="WDM Replacement" >
  <br><label>Disposal Cost [$]</label>
  <br><input type="number" min="0" max="15000000" step="1000" value="15000000" size="30" name="WDM Disposal" >
 <br><label>Construction Cost [$]</label>
  <br><input type="number" min="0" max="15000000" step="1000" value="32000000" width="230" name="WDM Construction" >
  <br><label>Maintenance Cost [$/Year]</label>
  <br><input type="number" min="0" max="15000000" step="100" value="1000000" width="230" name="WDM Annual Maintenance" >
</td>
</tr>
<tr>
<td>
 <button type="button" style="font-size: 14px; height:40px; width:160px;" id="WaterDistributionNetworkQuery">Run Simulation</button>
</td>
</tr>
</table>
</form>
</div>
<script>
  $("#WaterDistributionNetworkQuery").click(function() {  
  $(this).parent().parent().parent().parent().parent().parent().hide();
  $("#loading-div-background").show();
  $("#graph_container1").hide();
  $("#graph_container2").hide();
  $("#graph_container3").hide();

  $(".mainpic").hide();
  var qu ={};
  
  $("form#WaterDistributionNetworkForm :input").each(function() {
        qu[$(this).attr("name")] = $(this).val();
  });
  $.ajax({
    type: "POST",
    async:true,
    contentType: "application/json; charset=utf-8",
    url: "/query",
    data: JSON.stringify(qu),
    success: function (data) {     
      var graph1 = $("#graph_container1");
      var graph2 = $("#graph_container2");
      var graph3 = $("#graph_container3");

      graph1.html(data[0]);
      graph2.html(data[1]);
      graph3.html(data[2]);
   
      $("#loading-div-background").hide();      
      $("#graph_container1").show();
      $("#graph_container2").show();
      $("#graph_container3").show();
      $(".menu").show();
      $("#message").html(data);
   },
   dataType: "html"
 });
});

</script>



<!-- *** END OF WATER DISTRIBUTION NETWORK           ***       -->

<!-- ******************************************************    -->
<!-- *****     BEGINNING OF WATER TREATMENT WORKS   *****      -->
<!-- ******************************************************    -->
<a class="popup-trigger" rel="nofollow">Water Treatment Works</a>
<br>
<div class="popup" style="height:550px" >

<form id="WaterTreatmentWorksForm" method="POST">
<table class="formcontainer" >
<tr>
<td>
<h3 id="myModalLabel">Water Treatment Works</h3>
</td>
<td align=right class="popup-btn-close">
close
</td>
</tr>

<tr >
<td class="formsection2" colspan=2>
<h3>Physical Properties</h3>
  
  <br><label>Rated Capacity for Water Treatment Works [m3/day]</label>
  <br><input type="number" min="100000" max="1000000" step="1000" value="950000" size="15" name="WTW Daily Treatment Capacity" >
  <br> <label>Capacity Available for New Neighbourhood</label>
  <br><input type="number" min="0" max="1" step="0.01" value="0.05" size="30" name="WTW Available Capacity" >
</td>
</tr>
<tr>
<td class="formsection2">
<h3> Chemicals Required for Water Treatment</h3>
<label><b>Alum</b></label>
<label><Required for treatment of 1m3 water[kg/m3]</label>
  <br><input type="number" min="0.001" max="0.005" step="0.00001" value="0.00166" size="30" name="WTW Unit Alum" >
<br><label>Greenhouse gas emissions for 1kg [kwh/kg]</label>
  <br><input type="number" min="0.1" max="1" step="0.01" value="0.49" size="30" name="WTW Unit Alum GHG" >
<br><label>Embodied Energy [kWh/kg]</label>
  <br><input type="number" min="0.1" max="1" step="0.01" value="0.89" size="30" name="WTW Unit Alum EmEnergy" >
<br><label><b>Sodium Hypochlorite </b></label><br>
<label>Required for treatment of 1m3 water[kg/m3]</label>
  <br><input type="number" min="0.001" max="0.02" step="0.001" value="0.001" size="30" name="WTW Unit Sodium Hypochlorite" >
<br><label>Embodied Energy [kWh/kg]</label>
  <br><input type="number" min="0.001" max="0.02" step="0.001" value="0.001" size="30" name="WTW Unit Sodium Hypochlorite EmEnergy" >
<br><label>Greenhouse gas emissions for 1kg [kwh/kg]</label>
  <br><input type="number" min="0.001" max="0.02" step="0.001" value="0.001" size="30" name="WTW Unit Sodium Hypochlorite GHG" >
<br><label><b>Microsand</b></label><br>
<label>Required for treatment of 1m3 water[kg/m3]</label>
  <br><input type="number" min="0.001" max="0.02" step="0.1" value="0.001" size="30" name="WTW Unit Microsand" >
<br><label>Greenhouse gas emissions for 1kg [kwh/kg]</label>
  <br><input type="number" min="0.01" max="0.02" step="0.01" value="0.01" size="30" name="WTW Unit Microsand GHG" >
<br><label>Embodied Energy [kWh/kg]</label>
  <br><input type="number" min="0.01" max="0.2" step="0.1" value="0.01" size="30" name="WTW Unit Microsand EmEnergy" >
</td>
<td class="formsection2">
<br><label><b>Calcium Hydroxide</b></label><br>
<label>Required for treatment of 1m3 water[kg/m3]</label>
  <br><input type="number" min="0.01" max="0.1" step="0.00001" value="0.03341" size="30" name="WTW Unit Calcium Hydroxide" >
<br><label>Greenhouse gas emissions for 1kg [kwh/kg]</label>
  <br><input type="number" min="0.1" max="1" step="0.001" value="0.794" size="30" name="WTW Unit Calcium Hydroxide GHG" >
<br><label>Embodied Energy [kWh/kg]</label>
  <br><input type="number" min="0.5" max="2" step="0.1" value="1.0" size="30" name="WTW Unit Alum EmEnergy" >
<br><label><b>Carbon Dioxide </b></label><br>
<label>Required for treatment of 1m3 water[kg/m3]</label>
  <br><input type="number" min="0.01" max="0.2" step="0.00001" value="0.03393" size="30" name="WTW Unit Carbon Dioxide" >
<br><label>Carbon Dioxide Embodied GHG [kg CO2-EQ/kg]</label>
  <br><input type="number" min="0.1" max="2" step="0.001" value="0.794" size="30" name="WTW Unit Carbon Dioxide GHG" >
<br><label>Carbon Dioxide Embodied Energy [kWh/kg]</label>
  <br><input type="number" min="0.1" max="2" step="0.1" value="1.4" size="30" name="WTW Unit Carbon Dioxide EmEnergy" >


<br><label><b>Polyaluminum Chloride </b></label><br>
<label>Required for treatment of 1m3 water[kg/m3]</label>
  <br><input type="number" min="0.1" max="2" step="0.1" value="0.02886" size="30" name="WTW Unit Polyaluminum Chloride" >
<br><label>Greenhouse gas emissions for 1kg [kwh/kg]</label>
  <br><input type="number" min="0.1" max="2" step="0.1" value="0.1" size="30" name="WTW Unit Polyaluminum Chloride GHG" >
<br><label>Embodied Energy [kWh/kg]</label>
  <br><input type="number" min="0.1" max="5" step="0.1" value="0.1" size="30" name="WTW Unit Polyaluminum Chloride EmEnergy" >
</td>
</tr>
<tr>
<td  class="formsection2">
<h3> Life Cycle Costs (LCC)</h3>
<label>Construction and Installation Costs [$]</label>
  <br><input type="number" min="0" max="10000000" step="1000" value="0" size="30" name="WTW Construction and Installation" >
<br><label>Capital Investment [$]</label>
  <br><input type="number" min="0" max="10000000" step="1000" value="0" size="30" name="WTW Capital Investment" >
<br><label>Estimated annual maintenance costs [$/year]</label>
  <br><input type="number" min="0" max="10000000" step="1000" value="3000000" size="30" name="WTW Annual Maintenance" >
<br><label>Number of Staff [persons]</label>
  <br><input type="number" min="1" max="100" step="1" value="50" size="30" name="WTW Number of Staff" >
<br><label>Average Annual Salary [$/person]</label>
  <br><input type="number" min="10000" max="100000" step="1000" value="55000" size="30" name="WTW Average Staff Salary" >
<br><label>Administration Rate [%]</label>
  <br><input type="number" min="0.01" max="2" step=".01" value="0.1" size="30" name="WTW Administration Rate">
<br><label>Water Resource Fee [$]</label>
  <br><input type="number" min="0.01" max="10" step=".01" value="0.05" size="30" name="WTW Water Resource Fee" >
<br><label>Energy Required for Treatments [$/in3]</label>
  <br><input type="number" min="0.1" max="10" step=".01" value="0.28" size="30" name="WTW Electricity for treatment of m3" >
</td>
<td class="formsection2">
<h3>Qualitative Indicators</h3>
<label>Affordability[Dmnls] </label>
<br><input type="range" min="1" max="5"  value="3" class="slider-width" name="WTW Affordability"><br>
<label>Reliability [Dmls]</label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="WTW Reliability"><br>
<label>Acceptability [Dmls] </label>
<br><input type="range" min="1" max="5" value="3"nclass="slider-width" name="WTW Acceptability"><br>
<label>Risk to Human Health [Dmnls] </label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="WTW Risk to Human Health"><br>
<label>Spatial Requriements [Dmnls] </label>
<br><input type="range" min="1" max="5"  value="3" class="slider-width" name="WTW Space Requirements"><br>
<label>Flexibility and Adaptability [Dmnls] </label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="WTW Flexibility and Adaptability"><br>
</td>
</tr>
<tr>
  <td>
  <button type="button" style="font-size: 14px; height:40px; width:160px;" id="WaterTreatmentWorksQuery">Run Simulation</button>
 </td>
</tr>
</table>

</div>
</form>
<script>
  $("#WaterTreatmentWorksQuery").click(function() {  
  $(this).parent().parent().parent().parent().parent().parent().hide();
  $("#loading-div-background").show();
  $("#graph_container1").hide();
  $("#graph_container2").hide();
  $("#graph_container3").hide();

  $(".mainpic").hide();
  var qu ={};
  
  $("form#WaterTreatmentWorksForm :input").each(function() {
        qu[$(this).attr("name")] = $(this).val();
  });
  $.ajax({
    type: "POST",
    async:true,
    contentType: "application/json; charset=utf-8",
    url: "/query",
    data: JSON.stringify(qu),
    success: function (data) {     
      var graph1 = $("#graph_container1");
      var graph2 = $("#graph_container2");
      var graph3 = $("#graph_container3");

      graph1.html(data[0]);
      graph2.html(data[1]);
      graph3.html(data[2]);
   
      $("#loading-div-background").hide();      
      $("#graph_container1").show();
      $("#graph_container2").show();
      $("#graph_container3").show();
      $(".menu").show();
      $("#message").html(data);
   },
   dataType: "html"
 });
});

</script>


<!-- *** END OF WATER TREATMENT WORKS         ****	       -->

<!-- ******************************************************    -->
<!-- *****     BEGINNING OF SEWER COLLECTION NETWORK  *****    -->
<!-- ******************************************************    -->

<a class="popup-trigger" rel="nofollow">Sewer Collection Network </a>
<br>
<div class="popup" style="height:650px">
<table class="formcontainer">
<tr>
<td>
<h3 id="myModalLabel">Wastewater Collection System (WSC)</h3>
</td>
<td align=right colspan=2 class="popup-btn-close">
close
</td>
</tr>
<tr>
<td class=formsection2  valign=top>
<label><b>Embodied Energy and GHG timespans</b></label>
<br><label><b>Material 1</b></label>
<br>
  <select >
        <option   value="Ductile Iron" name="WSC Material 1" selected>Ductile Iron</option>         
        <option  value ="Grey Cast Iron" name="WSC Material 1">Grey Cast Iron</option>                 
        <option  value ="Concrete" name="WSC Material 1">Concrete</option>  
	<option  value ="Mild Steel" name="WSC Material 1">Mild Steel</option>  
	<option  value ="PE" name="WSC Material 1">PE</option>  
	<option  value ="PVC" name="WSC Material 1">PVC</option>                  
  </select>
<br><label>Total Length[m]</label>
<br><input type="number" min="1" max="5000" step="10" value="2300" size="30" name="WWCS Total Length M1" >
<br><label>Unit Weight</label>
<br><input type="number" min="100" max="2000" step="10" value="1300" size="30" name="WWCS Unit Weight M1" >
<br><label>Embodied Energy for Construction [kWh/kg]</label>
  <br><input type="number" min="0.1" max="5" step=".1" value="0.9" size="30" name="WWCS Unit Construction Energy M1" >
<br><label>Embodied GHG for Construction [kg CO2-EQ/kg]</label>
  <br><input type="number" min="0.1" max="5" step=".1" value="2.36" size="30" name="WWCS Unit Construction GHG M1" >
<br><label>Number of Trips for Maintenance [#]</label>
  <br><input type="number" min="0.0" max="5" step=".1" value="0" size="30" name="WWCS Number of Maintenance Trips" >
<br><label>Embodied Energy Maintenance [kWh/trip]</label>
  <br><input type="number" min="0.1" max="5" step=".01" value="0.05" size="30" name="WWCS Unit Maintenance Energy M1" >
<br><label>Embodied GHG Maintenance [Kg Co2-EQ/trip]</label>
  <br><input type="number" min="0.1" max="5" step=".1" value="0.5" size="30" name="WWCS Unit Maintenance GHG M1" >
</td>
<td class="formsection2">
<br>
<label><b>Material 2</b></label>
<br>
  <select >
        <option   value="Ductile Iron" name="WSC Material 2" selected>Ductile Iron</option>         
        <option  value ="Grey Cast Iron" name="WSC Material 2">Grey Cast Iron</option>                 
        <option  value ="Concrete" name="WSC Material 2">Concrete</option>  
	<option  value ="Mild Steel" name="WSC Material 2">Mild Steel</option>  
	<option  value ="PE" name="WSC Material 2">PE</option>  
	<option  value ="PVC" name="WSC Material 2">PVC</option>                  
  </select>
<br><label>Total Length[in]</label>
 <br><input type="number" min="0" max="5000" step="10" value="1" size="30" name="WWSC Total Length M2" >
<br><label>Unit Weight</label>
<br><input type="number" min="100" max="2000" step="10" value="0" size="30" name="WWSC Total Weight M2" >
<br><label>Embodied Energy for Construction [kWh/kg]</label>
  <br><input type="number" min="0.1" max="5" step=".1" value="0" size="30" name="WWSC Unit Construction Energy M2" >
<br><label>Embodied GMG for Constructcion [kg CO2-EQ/kg]</label>
  <br><input type="number" min="0.1" max="5" step=".1" value="0" size="30" name="WWSC Unit Construction GHG M2" >
<br><label>Embodied Energy Maintenance [kWh/trip]</label>
  <br><input type="number" min="0.1" max="5" step=".1" value="0" size="30" name="WWSC Unit Maintenance Energy M2" >
<br><label>Embodied GMG Maintenance [Kg C02-EQ/trip]</label>
  <br><input type="number" min="0.1" max="5" step=".1" value="0" size="30" name="WWSC Unit Maintenance GHG M2" >
</td>
<td class= "formsection2">
<br>
<label><b>Life-Cycle Costs (LCC)</b></label>
<br><label>Replacement Cost [$]</label>
  <br><input type="number" min="0" max="100" step="1" value="50.0" size="30" name="WWCS Replacement" >
<br><label>Disposal Cost [$]</label>
  <br><input type="number" min="0" max="100" step="1" value="50.0" size="30" name="WWCS Disposal" >
<br><label>Construction Cost [$]</label>
  <br><input type="number" min="0" max="100" step="1" value="50.0" size="30" name="WWCS Construction" >
<br><label>Maintenance Cost [$/year]<]/label>
  <br><input type="number" min="0" max="100" step="1" value="50.0" size="30" name="WWCS Annual Maintenance" >
</td>
</tr>
<tr valign=top>
<td>
<h3 id="myModalLabel">Stormwater Collection System (SCS)</h3>
</td>
</tr>
<tr>
<td class="formsection2">
<label><b>Embodied Energy and GHG Emissions</b></label>
<br><label><b>Material 1</b></label>
<br>
   <select >
        <option   value="Ductile Iron" name="SWSC Material 1" selected>Ductile Iron</option>         
        <option  value ="Grey Cast Iron" name="SWSC Material 1">Grey Cast Iron</option>                 
        <option  value ="Concrete" name="SWSC Material 1">Concrete</option>  
	<option  value ="Mild Steel" name="SWSC Material 1">Mild Steel</option>  
	<option  value ="PE" name="SWSC Material 1">PE</option>  
	<option  value ="PVC" name="SWSC Material 1">PVC</option>                  
  </select>
<br><label>Total Length[in]</label>
  <br><input type="number" min="0" max="5000" step="1" value="2000" size="30" name="SWCS Total Length M1" >
<br><label>Unit Weight</label>
 <br> <input type="number" min="100" max="2000" step="10" value="750" size="30" name="SWCS Unit Weight M1" >
<br><label>Embodied Energy for Construction [kWh/kg]</label>
  <br><input type="number" min="0.1" max="5" step=".1" value="0.9" size="30" name="SWCS Unit Construction Energy M1" >
<br><label>Embodied GHG for Construction [kg CO2-EQ/kg]</label>
  <br><input type="number" min="0.1" max="5" step=".01" value="2.36" size="30" name="SWCS Unit Construction GHG M1" >
<br><label>Number of Trips for Maintenance [#]</label>
  <br><input type="number" min="1" max="100" step="1" value="1" size="30" name="SWCS Number of Maintenance Trips " >
<br><label>Embodied Energy Maintenance [kWh/trip]</label>
  <br><input type="number" min="0.1" max="5" step="0.01" value="0.05" size="30" name="SWCS Unit Maintenance Energy M1" >
<br><label>Embodied GHG Maintenance [Kg Co2-EQ/trip]</label>
  <br><input type="number" min="0,1" max="5" step="0.1" value="0.5" size="30" name="SWCS Unit Maintenance GHG M1" >
</td>
<td class="formsection2">
<br>
<label><b>Material 2</b></label>
<br>
  <select >
        <option   value="Ductile Iron" name="SWSC Material 2" selected>Ductile Iron</option>         
        <option  value ="Grey Cast Iron" name="SWSC Material 2">Grey Cast Iron</option>                 
        <option  value ="Concrete" name="SWSC Material 2">Concrete</option>  
	<option  value ="Mild Steel" name="SWSC Material 2">Mild Steel</option>  
	<option  value ="PE" name="SWSC Material 2">PE</option>  
	<option  value ="PVC" name="SWSC Material 2">PVC</option>                  
  </select>
<br><label>Total Length[in]</label>
<br> <input type="number" min="0" max="5000" step="10" value="0" size="30" name="SWCS Total Length M2" >
<br><label>Unit Weight</label>
 <br> <input type="number" min="0.1" max="5" step="1" value="0" size="30" name="SWCS Unit Weight M2" >
<br><label>Embodied Energy for Construction [kWh/kg]</label>
  <br><input type="number" min="0.1" max="5" step="0.1" value="0.9" size="30" name="SWCS Unit Construction Energy M2" >
<br><label>Embodied GHG for Constructcion [kg CO2-EQ/kg]</label>
  <br><input type="number" min="0.1" max="5" step="0.1" value="0" size="30" name="SWCS Unit Construction GHG M2" >
<br><label>Embodied Energy Maintenance [kWh/trip]</label>
  <br><input type="number" min="0.1" max="5" step="0" value="0.1" size="30" name="SWCS Unit Maintenance Energy M2" >
<br><label>Embodied GMG Maintenance [Kg C02-EQ/trip]</label>
  <br><input type="number" min="0.1" max="5s" step="1" value="0" size="30" name="SWCS Unit Maintenance GHG M2" >
</td>
<td  class= "formsection2">
<br>
<label><b>Life-Cycle Costs (LCC)</b></label>
<br><label>Replacement Cost [$]</label>
  <br><input type="number" min="0" max="15000000" step="1000" value="0" size="30" name="SWCS Replacement" >
<br><label>Disposal Cost [$]</label>
  <br><input type="number" min="0" max="15000000" step="1000" value="0" size="30" name="SWCS Disposal" >
<br><label>Construction Cost [$]</label>
  <br><input type="number" min="0" max="15000000" step="1000" value="0" size="30" name="SWCS Construction" >
<br><label>Maintenance Cost [$/year]<]/label>
  <br><input type="number" min="0" max="15000000" step="1000" value="1000000" size="30" name="SWCS Annual Maintenance" >
<br><label>Number of trips required for annual maintenance<]/label>
  <br><input type="number" min="0" max="100" step="1" value="0" size="30" name="SWCS Number of Maintenance Trips" >


</td>
</tr>
</table>
</form>
</div>
<!-- ******** END OF SEWER COLLECTION NETWORK  ********        -->


<!-- ******************************************************    -->
<!-- *****     BEGINNING OF WATER DEMAND              *****    -->
<!-- ******************************************************    -->
<a class="popup-trigger" rel="nofollow">Water Demand</a>
<br>
<div class="popup" id="Water Demand Popup" style="height:500">
<form id="WaterDemandForm" method="POST">
<input type="hidden" name="formId" value="WaterDemand">
<table  class="formcontainer">
<tr><td>
<h3 id="myModalLabel">Water Demand</h3>
</td>
<td colspan=3 align=right class="popup-btn-close">
close
</td>
</tr>
<td class="formsection2">
 <label><b>Single Family Units  </b></label>
  <!--<input type="checkbox" checked name="WD Single Family Units">-->
  <br><label>Faucet Demand[l/capita/day]</label>
  <br><input type="number" min="0" max="100" step="1"  value="29" size="30" name="SF Faucet Demand" >
  <br><label>Shower Demand[l/capita/day]</label>
  <br><input type="number" min="0" max="100" step="1" value="36" size="30" name="SF Shower Demand" >
  <br><label>Bathtub Demand[l/capita/day]</label>
  <br><input type="number" min="0" max="100" step="1" value="25" size="30" name="SF Bathtub Demand" >
  <br><label>Dishwasher Demand[l/capita/day]</label>
  <br><input type="number" min="0" max="100" step="1" value="4" width="230" name="SF Dishwasher Demand" >
  <br><label>Clothes Washerr Demand[l/capita/day]</label>
  <br><input type="number" min="0" max="100" step="1" value="22" size="10" name="SF Clothes Washer Demand" >
  <br><label>Leaks[l/capita/day]</label>
  <br><input type="number" min="0" max="100" step="1" value="20" size="10" name="SF Leaks" >
  <br> <label>Toilet Demand[l/capita/day]</label>
  <br><input type="number" min="0" max="100" step="1" value="53" size="10" name="SF Toilet Demand" >
  <br><label">Other Demand[l/capita/day]</label>
  <br><input type="number" min="0" max="100" step="1" value="25" size="10" name="SF Other" >
</td>
<td class="formsection2">
 <label><b>Multi Family Unit</b></label>
  <br><label>Faucet Demand[l/capita/day]</label>
  <br><input type="number" min="0" max="100" step="1" value="29" size="30" name="MF Faucet Demand" >
  <br><label>Shower Demand[l/capita/day]</label>
  <br><input type="number" min="0" max="100" step="1" value="36" size="30" name="MF Shower Demand" >
  <br><label>Bathtub Demand[l/capita/day]</label>
  <br><input type="number" min="0" max="100" step="1" value="25" size="30" name="MF Bathtub Demand" >
  <br><label>Dishwasher Demand[l/capita/day]</label>
  <br><input type="number" min="0" max="100" step="1" value="4" width="230" name="MF Dishwasher Demand" >
  <br><label>Clothes Washerr Demand[l/capita/day]</label>
  <br><input type="number" min="0" max="100" step="1" value="22" size="10" name="MF Clothes Washer Demand" >
  <br><label>Leaks[l/capita/day]</label>
  <br><input type="number" min="0" max="100" step="1" value="20" size="10" name="MF Leaks" >
  <br> <label>Toilet Demand[l/capita/day]</label>
  <br><input type="number" min="0" max="100" step="1" value="53" size="10" __name="MF Toilet Demand" >
  <br><label">Other Demand[l/capita/day]</label>
  <br><input type="number" min="0" max="100" step="1" value="25" size="10" __name="MF Other" >
</td>
<td class="formsection2">
  <label><b>Water Efficiency Reduction Coeff</b></label><input type="checkbox" checked name="WD Water Efficiency Reduction Coeff"> 
  <br><label>Faucet [%]</label>
  <br><input type="number" min="0.0" max="1" step=".1" value="0.8" size="30" name="SF WEC Faucet" >
  <br><label>Shower [%]</label>
  <br><input type="number" min="0.0" max="1" step=".1" value="0.8"  name="SF WEC Shower" >
  <br><label>Dishwasher [%] </label>
  <br><input type="number" min="0.0" max="1" step=".1" value="0.8"  name="SF WEC Dishwasher" >
  <br><label>Bathtub [%]</label>
  <br><input type="number" min="0.0" max="1" step=".1" value="0.8"  name="SF WEC Bathtub" >
  <br><label>Clothes Washer [%]</label>
  <br><input type="number" min="0.0" max="1" step=".1" value="0.8"  name="SF WEC Clothes Washer" >
  <br><label>Toilet [%]</label>
  <br><input type="number" min="0.0" max="1" step=".1" value="0.8"  name="SF WEC Toilet" >
  <br><label>Leaks[%]</label>
  <br><input type="number" min="0.0" max="1" step=".1" value="0.8"  name="SF WEC Leaks" >
 <!-- Custom Field Autofill script -->
<script>
$(document).ready(function(){
 $("input[name='WD Water Efficiency Reduction Coeff']").change(function() {
     if(!this.checked) {
     	alert("Overriding the default values for "+this['name']);
         $("input[name='SF WEC Faucet']").val('1');
     	 $("input[name='SF WEC Shower']").val('1');
		 $("input[name='SF WEC Dishwasher']").val('1');
		 $("input[name='SF WEC Bathtub']").val('1');
		 $("input[name='SF WEC Clothes Washer']").val('1');
		 $("input[name='SF WEC Toilet']").val('1');
		 $("input[name='SF WEC Leaks']").val('1');
    } 
     });
});
</script>
</td>
<td class="formsection2">
  <label><b>Water Efficiency Reduction Coeff </b></label><input type="checkbox" checked name="WD Water Efficiency Reduction Coeff2">
  <br><label>Faucet [%]</label>
  <br><input type="number" min="0.0" max="1" step=".1" value="0.8" name="MF WEC Faucet" >
  <br><label>Shower [%]</label>
  <br><input type="number" min="0.0" max="1" step=".1" value="0.8"  name="MF WEC Shower" >
  <br><label>Dishwasher [%] </label>
  <br><input type="number" min="0.0" max="1" step=".1" value="0.8"  name="MF WEC Dishwasher" >
  <br><label>Bathtub [%]</label>
  <br><input type="number" min="0.0" max="1" step=".1" value="0.8"  name="MF WEC Bathtub" >
  <br><label>Clothes Washer [%]</label>
  <br><input type="number" min="0.0" max="1" step=".1" value="0.8"  name="MF WEC Clothes Washer" >
  <br><label>Toilet [%]</label>
  <br><input type="number" min="0.0" max="1" step=".1" value="0.8"  name="MF WEC Toilet" >
  <br><label>Leaks [%]</label>
  <br><input type="number" min="0.0" max="1" step=".1" value="0.8"  name="MF WEC Leaks" >
</td>
<!-- Custom Field Autofill script -->
<script>
$(document).ready(function(){
 $("input[name='WD Water Efficiency Reduction Coeff2']").change(function() {
     if(!this.checked) {
     	alert("Overriding the default values for "+this['name']);
         $("input[name='MF WEC Faucet']").val('1');
     	 $("input[name='MF WEC Shower']").val('1');
	 $("input[name='MF WEC Dishwasher']").val('1');
	 $("input[name='MF WEC Bathtub']").val('1');
	 $("input[name='MF WEC Clothes Washer']").val('1');
	 $("input[name='MF WEC Toilet']").val('1');
	 $("input[name='MF WEC Leaks']").val('1');
    } 
     });
});
</script>
</tr>
<tr>
<td class= "formsection2">
   <label><b> Water Conservation adoption rate<b></label><input type="checkbox" checked name="WD Water Conservation Adoption Rate">
  <br><label>Single-family Units [%] </label>
  <br><input type="range" min="0.0" step="0.1" max="1" value ="0.5" class="slider-width" name="SF Rate of Adoption">
  <br><label>Multi-family Units[%]</label>
  <br><input type="range" min="0.0" step="0.1" max="1"  value="0.5" class="slider-width" name="MF Rate of Adoption">
<!-- Custom Field Autofill script -
<script>
$(document).ready(function(){
 $("input[name='WD Water Conservation Adoption Rate']").change(function() {
     if(!this.checked) {
     	 alert("Overriding the default values for "+this['name']);
         $("input[name='SF Rate of Adoption']").val('1');
     	 $("input[name='MF Rate of Adoption']").val('1');
	    } 
     });
});
</script>
</td>
<td class="formsection2">
  <label><b>Irrigation Demand  </b></label><input type="checkbox"  checked name="WD Irrigation Demand">
  <br><label>Public Spaces for Irrigation [m2]</label>
  <br><input type="number" min="0" max="500000" step="100" value="25000" size="30" name="Public spaces for Irrigation" >
  <br><label>Public spaces for irrigation in neighborhood[l/m2/day]</label>
  <br><input type="number" min="0" max="200" step="1" value="70" size="30" name="Unit Irrigation Demand" >
  <!--<br><label>Unit Demand for Lawn Irrigation [l/m2/day]/label>
  <br><input type="number" min="0" max="200" step="1" value="70" size="30" name="Unit Lawn Irrigation Demand" >
  -->
</td>
<td class="formsection2">
  <label><b>Hospitals  </b></label><input type="checkbox" checked name="WD Hospitals">
  <br><label>Number of Beds [#]</label>
  <br><input type="number" min="0" max="5000" step="1" value="280" size="30" name="Number of Beds" >
  <br><label>Demand per Bed [l/bed/day]</label>
  <br><input type="number" min="0" max="2000" step="1" value="1310" size="30" name="Unit Demand Per Bed" >
<!-- Custom Field Autofill script -->
<script>
$(document).ready(function(){
  $("input[name='WD Hospitals']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
         $("input[name='Number of Beds']").val('0');
         $("input[name='Unit Demand Per Bed']").val('0');
            }
     });
});
$(document).ready(function(){
  $("input[name='WD Irrigation Demand']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
         $("input[name='Public spaces for Irrigation']").val('0');
         $("input[name='Unit Irrigation Demand']").val('0');
	 $("input[name='Unit Lawn Irrigation Demand']").val('0');

            }
     });
});

</script>
</td>
<td class="formsection2">
  <label><b>Industrial Demand  </b></label><input type="checkbox" checked name="WD Industrial Demand">
  <br><label>Industrial Area [m2]</label>
  <br><input type="number" min="0" max="500000" step="100" value="10000" size="30" name="Industrial Floor Area" >
  <br><label>Industrial unit demand per m2 [l/m2/day]</label>
  <br><input type="number" min="0" max="200" step="1" value="180" size="30" __name="Unit Industrial Demand" >
<script>
$(document).ready(function(){
  $("input[name='WD Industrial Demand']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
         $("input[name='Industrial Floor Area']").val('0');
         $("input[name='Unit Industrial Demand']").val('0');
            }
     });
});
</script>
</td>
</tr>
<tr>
<td class="formsection2">
 <label><b>Community Centers  </b></label> <input type="checkbox" checked name="WD Community Centers">
  <br><label>Total Area [m2]</label>
  <br><input type="number" min="0" max="50000" step="1000"  value="3250" size="30" name="CC Area" >
  <br><label>Unit Demand [l/m2/day]</label>
  <br><input type="number" min="0" max="200" step="1" value="30" name="CC Unit Demand" >
  <br><label>Variation Coefficient Upper [Dmnls]</label>
  <br><input type="number" min="0" max="2" step=".01" value="0.89" name="CC Upper VC" >
  <br><label>Variation Coefficient [Dmnls]</label>
  <br><input type="number" min="0" max="2" step=".01" value="1.21" name="CC Lower VC" >
</td>
<!-- Custom Field Autofill script -->
<script>
$(document).ready(function(){
  $("input[name='WD Community Centers']").change(function() {
     if(!this.checked) {
     	alert("Overriding the default values for "+this['name']);
         $("input[name='CC Area']").val('0');
     	 $("input[name='CC Unit Demand']").val('0');
		     } 
     });
});
</script>
<td class="formsection2">
  <lablel><b>Office Buidlings </b></lable><input type="checkbox" checked name="WD Office Buildings">
  <br><label>Office Building Area[m2]</label>
  <br><input type="number" min="0" max="50000" step="1000" value="50000" size="30" name="Footprint Office Buildings" >
  <br><label>Unit Demand[l/capita/day]</label>
  <br><input type="number" min="0" max="200" step=".1" value="4.2" size="30" name="OB Unit Demand per m2" >
  <br><label>Variation Coefficient Upper [Dmnls]</label>
  <br><input type="number" min="0" max="2" step=".01" value="0.8" size="30" name="OB Upper VC" >
    <br><label>Variation Coefficient Lower [Dmnls]</label>
  <br><input type="number" min="0" max="2" step=".01" value="1.25" size="30" name="OB Lower VC" >
<!-- Custom Field Autofill script -->
<script>
$(document).ready(function(){
  $("input[name='WD Office Buildings']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
         $("input[name='OB Unit demand per m2']").val('0');
         $("input[name='Footprint Office Buildings']").val('0');
       
            }
     });
});
</script>
</td>
<td class="formsection2">
 <label><b>Schools   </b></label> <input type="checkbox" checked name="WD Schools">
  <br><label>Number of Children [#]</label>
  <br><input type="number" min="0" max="5000" step="100"  value="2500" size="30" name="Number of Students" >
  <br><label>Demand per Child [l/child/day]</label>
  <br><input type="number" min="0" max="200" step=".1" value="25.1" name="Unit Demand Per Student" >

<!-- Custom Field Autofill script -->
<script>
$(document).ready(function(){
  $("input[name='WD Schools']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
         $("input[name='Number of Students']").val('0');
         $("input[name='Unit Demand Per Student']").val('0');
            }
     });
});
</script>
</td>
<td class="formsection2">
  <label><b>Restaurants  </b></label><input type="checkbox" checked name="WD Restaurants">
  <br><label>Number of Seats [#]</label>
  <br><input type="number" min="0" max="5000" step="1"  value="1500" size="30" name="Restaurant Seats" >
  <br><label>Demand per Seat [l/seat/dat]</label>
  <br><input type="number" min="0" max="200" step="0.1" value="91.6" size="30" name="Unit Demand per Seat" >
  <br><label>Coefficient Upper [Dmnls]</label>
  <br><input type="number" min="0" max="2" step="0.01" value="1.08" size="30" name="Restaurants Upper VC" >
 <br><label>Coefficient Lower [Dmnls]</label>
  <br><input type="number" min="0" max="2" step="0.01" value="0.85" size="30" name="Restaurants Lower VC" >

<!-- Custom Field Autofill script -->
<script>
$(document).ready(function(){
  $("input[name='WD Restaurants']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
         $("input[name='Restaurant Seats']").val('0');
         $("input[name='Unit Demand per Seat']").val('0');
            }
     });
});
</script>
</td>
</tr>
<tr>
<td class="formsection2">
 <label><b>Daycares </b></label><input type="checkbox" checked name="WD Daycares"> 
  <br>label>Number of Children [#]</label>
  <br><input type="number" min="0" max="50000" step="10" value="550" size="30" name="Number of Children" >
  <br><label>Demand per Child [l/child/day]</label>
  <br><input type="number" min="0" max="200" step="1" value="25" size="30" name="Unit Demand per Child" >
  <br><label>Variation Coefficient Upper</label>
  <br><input type="number" min="0" max="2" step="0.01" value="0.78" size="30" name="Daycares Upper VC" >
    <br><label>Variation Coefficient Lower</label>
  <br><input type="number" min="0" max="2" step="0.01" value="1.25" size="30" name="Daycares Lower VC" >

<!-- Custom Field Autofill script -->
<script>
$(document).ready(function(){
  $("input[name='WD Daycares']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
         $("input[name='Number of Children']").val('0');
         $("input[name='Unit Demand per Child]").val('0');
       
            }
     });
});
</script>
</td>
<td class="formsection2">
  <label><b>Hotels </b></label><input checked type="checkbox" name="WD Hotels">
  <br><label>Hotel Area [m/2]</label>
  <br><input type="number" min="0" max="50000" step="100"  value="10000" size="30" name="Footprint Hotels" >
  <br><label>Unit Demand[l/m2/day]</label>
  <br><input type="number" min="0" max="200" step="0.1" value="10.5" size="30" name="Unit Demand per m2" >
<!-- Custom Field Autofill script -->
<script>
$(document).ready(function(){
  $("input[name='WD Hotels']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
         $("input[name='Footprint Hotels']").val('0');
         $("input[name='Unit Demand per m2']").val('0');
      }
     });
});
</script>
</td>
<td class="formsection2">
<label><b>Retail </b></label> <input type="checkbox" checked name="WD Retail"> 
  <br><label>Retail area</label>
  <br><input type="number" min="0" max="50000" step="1" value="20000" size="30" name="Retail space in m2" >
  <br><label>Retail unit demand</label>
  <br><input type="number" min="0" max="200" step=".1" value="4.3" size="30" name="Unit Demand of Retail Space" >
  <br><label>Variation Coefficient Upper</label>
  <br><input type="number" min="0" max="2" step="0.01" value="1.18" size="30" name="Retail Upper VC" >
    <br><label>Variation Coefficient Lower</label>
  <br><input type="number" min="0" max="2" step="0.01" value="0.92" size="30" name="Retail Lower VC" >
<!-- Custom Field Autofill script -->
<script>
$(document).ready(function(){
  $("input[name='WD Retail']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
         $("input[name='Retail space in m2']").val('0');
         $("input[name='Unit Demand of Retail Space']").val('0');
      
            }
     });
});
</script>
</td>
<td class="formsection2"> 
<label><b>HVAC </b></label> <input type="checkbox"__name="HVAC"> 
  <br><label>Demand in litres per hour [Litres/hour]</label>
  <br><input type="number" min="0" max="5000" step="10" value="250" size="30" name="Full Load Water Use" >
  <br><label>Hours of operation per day [Hours]</label>
  <br><input type="number" min="1" max="24" step="1" value="18" size="30" name="HVAC Hours of Operation" >
</td>
</tr>
<tr>
<td>
 <button type="button" style="font-size: 14px; height:40px; width:160px;" id="WaterDemandQuery">Run Simulation</button>
</td>
</tr>
</table>
</div>
</form>
<script>
  $("#WaterDemandQuery").click(function() {  
  $(this).parent().parent().parent().parent().parent().parent().hide();
  $("#loading-div-background").show();
  $(".mainpic").hide();
  var qu ={};
  $("form#WaterDemandForm :input").each(function() {
        qu[$(this).attr("name")] = $(this).val();
  });
  $.ajax({
    type: "POST",
    async:true,
    contentType: "application/json; charset=utf-8",
    url: "/query",
    data: JSON.stringify(qu),
    dataType: "html",
    success: function(response)
	 {     
	 $("#loading-div-background").hide();   
	 $(".menu").show();
         document.write(response);
     }
   });
});

 

</script>

<!--- ******** END OF WATER DEMAND  ************ ------->


<!-- ******************************************************    -->
<!-- *****     BEGINNING OF WASTEWATER TREATMENT WORKS     *****    -->
<!-- ******************************************************    -->
<a class="popup-trigger" rel="nofollow">Wastewater Treatment Works</a>
<br>
<div class="popup" style="height:650px" >
<table class="formcontainer" >
<tr>
<td>
<h3 id="myModalLabel">Wastewater Treatment Works</h3>
</td>
<td align=right class="popup-btn-close">
close
</td>
</tr>
<tr>
<td class="formsection2">
  <h3>Physical Properties</h3>
  <br><label>Wastewater Generation Factor</label>
  <br><input type="number" min="0" max="1" step="0.01" value="0.85" size="15" name="Wastewater Generation as a percentage of water use" >
  <br><label>Total Daily Treatment Capacity [m3/day]</label>
  <br><input type="number" min="0" max="1000000" step="100" value="600000" size="15" name="WWTW Daily Treatment Capacity" >
  <br> <label>Capacity Available for New Development</label>
  <br><input type="number" min="0" max="1" step="0.1" value="0.2" value="WWTW Available Capacity" size="30" name="WTW Available Capacity" >
  </td>
</tr>

<tr>
<td class="formsection2">
<h3> Chemicals Flux</h3>
<label>Ferric Choloride [kg/m3]]</label>
  <br><input type="number" min="0.0" max="2.0" step="0.0001" value="0.0299" size="30" name="WWTW Unit Ferric Chloride" >
<br><label>Ferric Chloride Embodied GHG [kg CO2-EQ/kg]</label>
  <br><input type="number" min="0.0" max="2.0" step="0.01" value="1.39" size="30" name="WWTW Unit Ferric Chloride GHG" >
<br><label>Ferric Chloride Embodied Energy [kWh/kg]</label>
  <br><input type="number" min="0.0" max="2.0" step="0.01" value="0.26" size="30" name="WWTW Unit Ferric EmEnergy" >
<br><label>Ferric Sulphate [kg/m3]</label>
  <br><input type="number" min="0.0" max="2.0" step="0.0001" value="0.0215" size="30" name="WWTW Unit Ferric Sulphate" >
<br><label>Ferric Sulphate Embodied GHG [Kg CO2-EQ/kg]</label>
  <br><input type="number" min="0.0" max="2.0" step="0.1" value="0.37" size="30" name="WWTW Unit Ferric Sulphate GHG" >
<br><label>Ferric Sulphate Embodied Energy [kWh/kg]</label>
  <br><input type="number" min="0.0" max="2.0" step="0.1" value="2" size="30" name="WTW Unit Ferric Sulphate EmEnergy" >
<br><label>Nictric Acid [kg/m3]</label>
  <br><input type="number" min="0.0" max="2.0" step="0.001" value="0.0245" size="30" name="WWTW Unit Nitric Acid" >
<br><label>Nitric Acid Embodied GHG [Kg CO2-EQ/kg]</label>
  <br><input type="number" min="0.0" max="2.0" step="0.1" value="6.3" size="30" name="WWTW Unit Nitric Acid GHG" >
<br><label>Nictric Acid Embodied Energy [kWh/kg]</label>
  <br><input type="number" min="0" max="2.0" step="0.01" value="3.31" size="30" name="WWTW Unite Nitric Acid EmEnergy" >
</td>
<td class="formsection2">
<br><label>Calcium Hydroxide [kg/m3]</label>
  <br><input type="number" min="0.0" max="2.0" step="0.01" value="0.03" size="30" name="WWTW Unit Calcium Hydroxide" >
<br><label>Calcium Hydroxyde Embodied GHG  [kgCO2-EQ/kg]</label>
  <br><input type="number" min="0.0" max="2.0" step="0.001" value="0.763" size="30" name="WWTW Unit Calcium Hydroxide GHG" >
<br><label>Calcium Hydroxyde Embodied Energy  [kWh/kg]</label>
  <br><input type="number" min="0.0" max="2.0" step="0.1" value="1" size="30" name="WWTW Unit Calcium Hydroxide EmEnergy" >
<br><label>Ethanol [kg/m3]</label>
  <br><input type="number" min="0.0" max="2.0" step="0.0001" value="0.0003" size="30" name="WWTW Unit Ethanol" >
<br><label>Ethanol Embodied GHG [kg CO2-EQ/kg]</label>
  <br><input type="number" min="0.0" max="2.0" step="0.01" value="1.23" size="30" name="WWTW Unit Ethanol GHG" >
<br><label>Ethanol Embodied Energy [kWh/kg]</label>
  <br><input type="number" min="0.0" max="2.0" step="0.1" value="0.83" size="30" name="WWTW Unit Ethanol EmEnergy" >
<br><label>Methanol [kg/m3]</label>
  <br><input type="number" min="0.0" max="2.0" step="0.0001" value="0.0329" size="30" name="Unit Methanol" >
<br><label>Methanol Embodied GHG [kg CO2-EQ/kg]</label>
  <br><input type="number" min="0.0" max="2.0" step="0.001" value="0.736" size="30" name="Unit Methanol GHG" >
<br><label>Methanol Embodied Energy [kWh/kg]</label>
  <br><input type="number" min="0.0" max="2.0" step="0.01" value="4.56" size="30" name="Unit Methanol EmEnergy" >
</td>
</tr>
<tr>
<td  class="formsection2">
<h3> Life Cycle Costs (LCC)</h3>
<label>Construction and Installation Costs [$]</label>
  <br><input type="number" min="0" max="10000000" step="1000" value="0" size="30" name="WWTW Construction and Installation" >
<br><label>Capital Investment [$]</label>
  <br><input type="number" min="0" max="10000000" step="1000" value="0" size="30" name="WWTW Capital Investment" >
<br><label>Annual Maintenance Costs [$/year]</label>
  <br><input type="number" min="0" max="1000000" step="1000" value="12000000" size="30" name="WWTW Annual Maintenance" >
<br><label>Number of Staff [persons]</label>
  <br><input type="number" min="0" max="50" step="1" value="35" size="30" name="WWTW Number of Staff" >
<br><label>Average Annual Salary [$/person]</label>
  <br><input type="number" min="10000" max="100000" step="1000" value="55000" size="30" name="WWTW Average Staff Salary" >
<br><label>Administration Rate [%]</label>
  <br><input type="number" min="0.01" max=".5" step=".01" value="0.1" size="30" name="WWTW Administration Rate">
<br><label>Energy Required for Treatments [$/in3]</label>
  <br><input type="number" min="0.1" max="10" step=".01" value="0.45" size="30" name="WWTW Electricity for treatment of m3" >
<br><label>Slidge Generated [kg/m3]</label>
  <br><input type="number" min="0" max="10" step="1" value="1" size="30" name="WWTW Sludge Generated" >
<br><label>Slidge Removal and Transport [%/kg]</label>
  <br><input type="number" min="1" max="1000" step=".01" value="1.12" size="30" name="WWTW Sludge Transport and Disposal" >
</td>
<td class="formsection2">
<h3>Qualitative Indicators</h3>
<label>Affordability[Dmnls] </label>
<br><input type="range" min="1" max="5"  value="3" class="slider-width" name="WTW Affordability"><br>
<label>Reliability [Dmls]</label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="WTW Reliability"><br>
<label>Acceptability [Dmls] </label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="WTW Acceptability"><br>
<label>Risk to Human Health [Dmnls] </label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="WTW Risk to Human Health"><br>
<label>Spatial Requirements [Dmnls] </label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="WTW Space Requirements"><br>
<label>Flexibility and Adaptability [Dmnls] </label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="WTW Flexibility and Adaptability"><br>
</td>
</tr>
</table>
</div>
<!--- ******** END OF WASTEWATER TREATMENT WORKS ********* ------->


<!-- ******************************************************    -->
<!-- *****     BEGINNING OF PUMPING STATIONS          *****    -->
<!-- ******************************************************    -->

<a class="popup-trigger" rel="nofollow">Pumping Stations</a>
<br>
<div style="height:550" class="popup">
<table  class="formcontainer">
<tr>
<td>
<h3 id="myModalLabel">Pumping Stations</h3>
</td>
<td colspan=2 align=right class="popup-btn-close">
close
</td>
</tr>
<tr>
<td valign="top"  class="formsection2">
<label ><b>Drinking Water (WP)</b></label><input type="checkbox" checked name="PS Drinking Water">
<h3>Pumping Station Costs</h3>
   <label>Construction and Installation Costs [$]</label>
  <br><input type="number" min="0" max="10000000" step="1000" value="1000000" size="30" name="WP Construction and Installation" >
  <br><label>Annual Maintenance Fee [$]</label>
  <br><input type="number" min="0" max="500000" step="1" value="50" size="30" name="WP Annual Maintenance" >
</td>
<td class="formsection2">
<label><b>Wastewater (WWP)</b></label><input type="checkbox" checked name="Wastewater (WWP)">
<h3>Pumping Station Costs</h3>
  <label>Construction and Installation Costs [$]</label>
  <br><input type="number" min="0" max="10000000" step="1000" value="1000000" size="30" name="WWP Construction and Installation" >
  <br><label>Annual Maintenance Fee [$]</label>
  <br><input type="number" min="0" max="500000" step="1" value="100000" size="30" name="WWP Annual Maintenance" >
</td>
<td class="formsection2">
<label><b>Stormwater  (SWP) </b></label><input type="checkbox" checked name="Stormwater (SWP)">
<h3>Pumping Station Costs</h3>
  <label>Construction and Installation Costs [$]</label>
  <br><input type="number" min="0" max="10000000" step="1" value="500000" size="30" name="SWP Construction and Installation" >
  <br><label>Annual Maintenance Fee [$]</label>
  <br><input type="number" min="0" max="500000" step="1" value="10000" size="30" name="SWP Annual Maintenance" >
</td>
</tr>
<tr>
<td valign="top" class="formsection2">
<h3>Regime of Pump Operation</h3></input>
  <label>Total Dynamic Head of Pump [m]</label>
  <br><input type="range" min="0" max="500" value="150" class="slider-width" name="WP Total Dynamic Head of Pump"><br>
  <br><label>Duration of Pup Operatoin [hours/day]</label>
  <br><input type="number" min="1" max="24" step="1" value="24" size="30" name="WP Duration of Pump Operation" >
  <br><label>Motor Efficiency [%]</label>
  <br><input type="number" min="50" max="100" step="1" value="80" size="30" name="WP Motor Efficiency" >
  <br><label>Variable Speed Drive Efficiency [%]</label>
  <br><input type="number" min="50" max="100" step="1" value="88" size="30" name="WP Variable Speed Drive Efficiency" >
  <br><label>Pump Efficiency [%]</label>
  <br><input type="number" min="50" max="100" step="1" value="93" size="30" name="WP Pump Efficiency" >
</td>

<td valign="top"  class="formsection2">
<h3>Regime of Pump Operation</h3></input>
  <label>Total Dynamic Head of Pump [m]</label>
  <br><input type="range" min="0" max="500" value="25" class="slider-width" name="WWP Total Dynamic Head of Pump"><br>
  <br><label>Duration of Pup Operatoin [hours/day]</label>
  <br><input type="number" min="1" max="24" step="1" value="24" size="30" name="WWP Duration of Pump Operation" >
  <br><label>Motor Efficiency [%]</label>
  <br><input type="number" min="50" max="100" step="1" value="85" size="30" name="WWP Motor Efficiency" >
  <br><label>Variable Speed Drive Efficiency [%]</label>
  <br><input type="number" min="50" max="100" step="1" value="88" size="30" name="WWP Variable Speed Drive Efficiency" >
  <br><label>Pump Efficiency [%]</label>
  <br><input type="number" min="50" max="100" step="1" value="93" size="30" name="WWP Pump Efficiency" >
</td>
<td valign="top" class="formsection2">
<h3>Regime of Pump Operation</h3></input>
  <label>Total Dynamic Head of Pump [m]</label>
  <br><input type="range" min="0" max="500" value="10" class="slider-width" name="SWP Total Dynamic Head of Pump"><br>
  <br><label>Duration of Pup Operatoin [hours/day]</label>
  <br><input type="number" min="1" max="24" step="1" value="24" size="30" name="SWP Duration of Pump Operation" >
  <br><label>Motor Efficiency [%]</label>
  <br><input type="number" min="50" max="100" step="1" value="85" size="30" name="SWP Motor Efficiency" >
  <br><label>Variable Speed Drive Efficiency [%]</label>
  <br><input type="number" min="50" max="100" step="1" value="88" size="30" name="SWP Variable Speed Drive Efficiency" >
  <br><label>Pump Efficiency [%]</label>
  <br><input type="number" min="50" max="100" step="1" value="90" size="30" name="SWP Pump Efficiency" >
</div>
</td>
</tr>
<tr>
<td class="formsection2">
<h3>Qualitative Indicators</h3>
<label>Affordability[Dmnls] </label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="WP Affordability"><br>
<label>Reliability [Dmls]</label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="WP Reliability"><br>
<label>Acceptability [Dmls] </label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="WP Acceptability"><br>
<label>Risk to Human Health [Dmnls] </label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="WP Risk to Human Health"><br>
<label>Spatial Requriements [Dmnls] </label>
<br><input type="range" min="1" max="5"  value="3" class="slider-width" name="WP Space Requirements"><br>
<label>Flexibility and Adaptability [Dmnls] </label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="WP Flexibility and Adaptability"><br>
</td>
<script>
$(document).ready(function(){
  $("input[name='PS Drinking Water']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
         $("input[name='WP Construction and Installation']").val('0');
         $("input[name='WP Annual Maintenance']").val('0');
         $("input[name='WP Total Dynamic Head of Pump']").val('0');
        $("input[name='WP Affordability']").val('0');
	$("input[name='WP Reliability']").val('0');
	$("input[name='WP Acceptability']").val('0');
	$("input[name='WP Risk to Human Health']").val('0');
	$("input[name='WP Space Requirements']").val('0');
	$("input[name='WP Flexibility and Adaptability']").val('0');	
	}
     });
});
</script>


<td class="formsection2">
<h3>Qualitative Indicators</h3>
<label>Affordability[Dmnls] </label>
<br><input type="range" min="1" max="5"  value="3" class="slider-width" name="WWP Affordability"><br>
<label>Reliability [Dmls]</label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="WWP Reliability"><br>
<label>Acceptability [Dmls] </label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="WWP Acceptability"><br>
<label>Risk to Human Health [Dmnls] </label>
<br><input type="range" min="1" max="5"  value="3" class="slider-width" name="WWP Risk to Human Health"><br>
<label>Spatial Requriements [Dmnls] </label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="WWP Space Requirements"><br>
<label>Flexibility and Adaptability [Dmnls] </label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="WWP Flexibility and Adaptability"><br>
</td>
<script>
$(document).ready(function(){
  $("input[name='Wastewater (WWP)']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
         $("input[name='WWP Construction and Installation']").val('0');
         $("input[name='WWP Annual Maintenance']").val('0');
          $("input[name='WWP Total Dynamic Head of Pump']").val('0');
	$("input[name='WWP Affordability']").val('0');
	$("input[name='WWP Reliability']").val('0');
	$("input[name='WWP Acceptability']").val('0');
	$("input[name='WWP Risk to Human Health']").val('0');
	$("input[name='WWP Space Requirements']").val('0');
	$("input[name='WWP Flexibility and Adaptability']").val('0');	
        }
     });
});
</script>

<td class="formsection2">
<h3>Qualitative Indicators</h3>
<label>Affordability[Dmnls] </label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="SWP Affordability"><br>
<label>Reliability [Dmls]</label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="SWP Reliability"><br>
<label>Acceptability [Dmls] </label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="SWP Acceptability"><br>
<label>Risk to Human Health [Dmnls] </label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="SWP Risk to Human Health"><br>
<label>Spatial Requriements [Dmnls] </label>
<br><input type="range" min="1" max="5" value="3"  class="slider-width" name="SWP Space Requirements"><br>
<label>Flexibility and Adaptability [Dmnls] </label>
<br><input type="range" min="1" max="5" value="3" class="slider-width" name="SWP Flexibility and Adaptability"><br>
</td>
<script>
$(document).ready(function(){
  $("input[name='Stormwater (SWP)']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
         $("input[name='SWP Construction and Installation']").val('0');
         $("input[name='SWP Annual Maintenance']").val('0');
         $("input[name='SWP Total Dynamic Head of Pump']").val('0');
	$("input[name='SWP Affordability']").val('0');
	$("input[name='SWP Reliability']").val('0');
	$("input[name='SWP Acceptability']").val('0');
	$("input[name='SWP Risk to Human Health']").val('0');
	$("input[name='SWP Space Requirements']").val('0');
	$("input[name='SWP Flexibility and Adaptability']").val('0');	
        }
     });
});
</script>
</tr>
</table>
</div>
<!---- ******* END OF WATER TREATMENT WORKS    ******       --------!>


<!-- *************************************************************    -->
<!-- *****     BEGINNING OF NEIGHBOURHOOD HYDROLOGY WORKS    *****    -->
<!-- *************************************************************    -->

<a class="popup-trigger" rel="nofollow">Neighbourhood Hydrology</a>
<br>
<div style="height:550" class="popup">
<form id="NeighborhoodHydrologyForm" method="POST">
<table  class="formcontainer">
<tr><td>
<h3 id="myModalLabel">Neighborhood Hydrology </h3>
<label>Daily precipitation (*.csv)</label><br>
<input type="file" size=30 name="Rainfall" accept=".csv" />
</td>
<td colspan=4 align=right class="popup-btn-close">
close
</td>
</tr>
<td valign="top"  class="formsection2">
<h3>Type 1</h3>
   <label>Total Area</label>
  <br><input type="number" min="1" max="500000" step="1" value="12000" size="30" name="Landuse1" >
     <br><label>Hyrdologic Soil Group</label>
  <br><select width=200px>
        <option   value="A" name="NH Type 1 Soil Group" selected>A</option>
        <option  value ="B" name="NH Type 1 Soil Group">B</option>
        <option  value ="C" name="NH Type 1 Soil Group">C</option>
	<option  value ="D" name="NH Type 1 Soil Group">D</option>
  </select>
     <br><label>Curve Number Value [CN]</label>
  <br><input type="number" min="0" max="100" step="1" value="92" size="30" name="CN1" >
</td>
<td class="formsection2">
<h3>Type 2</h3>
   <label>Total area</label>
  <br><input type="number" min="1" max="500000" step="1" value="40000" size="30" name="Landuse2" >
     <br><label>Hyrdologic Soil Group</label>
  <br><select width=200px>
        <option   value="A" name="NH Type 2 Soil Group" selected>A</option>
        <option  value ="B" name="NH Type 2 Soil Group">B</option>
        <option  value ="C" name="NH Type 2 Soil Group">C</option>
	<option  value ="D" name="NH Type 2 Soil Group">D</option> 
 </select>
    <br><label>Curve Number Value [CN]</label>
  <br><input type="number" min="0" max="100" step="1" value="95" size="30" name="CN2" >
</td>
<td class="formsection2">
<h3>Type 3</h3>
   <label>Total Area</label>
   <br><input type="number" min="1" max="500000" step="1" value="40000" size="30" name="Landuse3" >

     <br><label>Hyrdologic Soil Group</label>
  <br><select width=200px>
        <option   value="A" name="NH Type 3 Soil Group" selected>A</option>
        <option  value ="B" name="NH Type 3 Soil Group">B</option>
        <option  value ="C" name="NH Type 3 Soil Group">C</option>
	<option  value ="D" name="NH Type 3 Soil Group">D</option> 
  </select>
     <br><label>Curve Number Value [CN]</label>
  <br><input type="number" min="0" max="100" step="1" value="95" size="30" name="CN3" >
</td>
</td>
<td  class="formsection2">
<h3> Type 4</h3>
    <label>Total Area</label>
   <br><input type="number" min="1" max="500000" step="1" value="0" size="30" name="Landuse4" >
     <br><label>Hyrdologic Soil Group</label>
  <br><select width=200px>
        <option   value="A" name="NH Type 4 Soil Group" selected>A</option>
        <option  value ="B" name="NH Type 4 Soil Group">B</option>
        <option  value ="C" name="NH Type 4 Soil Group">C</option>
	 <option  value ="D" name="NH Type 4 Soil Group">D</option>
  </select>
  <br><label>Curve Number Value [CN]</label>
  <br><input type="number" min="0" max="100" step="1" value="0" size="30" name="CN4" >
</td>
</tr>
<tr>
<td valign="top" class="formsection2">
<label><b>Permeable Pavement</b></label><input type="checkbox" checked" name="Permeable Pavement">
 <br><label>Curve Number Value[CN]</label>
  <br><input type="range" min="0" max="100" value="98" class="slider-width" name="PP CN Value">
  <br><label>Permeable Pavement Footprint [m2]</label>
  <br><input type="number" min="0" max="100000" step="1" value="3000" size="30" name="PP Footprint" >
  <br><label>Design and Construction Cost [$/m2]</label>
  <br><input type="number" min="0" max="5000" step="1" value="1200" size="30" name="PP Design and Capital Costs" >
  <br><label>Annual Maintenance COst [$/m2]</label>
  <br><input type="number" min="0" max="100" step="1" value="150" size="30" name="PP Annual Maintenance Cots" >
  <br><label>Construction GHG [kgCO2eg/m2]</label>
  <br><input type="number" min="0" max="50" step="0.1" value="29.2" size="30" name="PP Construction GHG" >
</td>
<script>
$(document).ready(function(){
  $("input[name='Permeable Pavement']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
        $("input[name='PP Footprint']").val('0');
     	$("input[name='PP Construction GHG']").val('0');
	$("input[name='PP Design and Capital Costs']").val('0');
	$("input[name='PP Annual Maintenance Costs']").val('0');
        }
     });
});
</script>


<td class="formsection2">
<label><b>Green Roofs</b></label><input type="checkbox" checked name="Green Roofs">
  <br><label>Curve Number Value[CN]</label>
  <br><input type="range" min="0" max="100" value="78" class="slider-width" name="Green Roof CN Values">
  <br><label>Green Roof Footprint [m2]</label>
  <br><input type="number" min="0" max="100000" step="1" value="80000" size="30" name="Green Roof Footprint" >
  <br><label>Design and Construction Cost [$/m2]</label>
  <br><input type="number" min="0" max="10000" step="100" value="4000" size="30" name="Green Roof Design and Capital Costs" >
  <br><label>Runoff Coefficient for Green Roofs [Dmnls]</label>
  <br><input type="number" min="0" max="100" step="1" value="75" size="30" name="Green Roof C Coefficient" >
  <br><label>Annual Maintenance COst [$/m2]</label>
  <br><input type="number" min="0" max="10000" step="10" value="500" size="30" name="Green Roof Annual Maintenance Costs" >
  <br><label>Construction GHG [kgCO2eg/m2]</label>
  <br><input type="number" min="0" max="50" step="0.1" value="28.1" size="30" name="Green Roof Construction GHG" >
</td>
<script> 
$(document).ready(function(){
  $("input[name='Green Roofs']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
        $("input[name='Green Roof Footprint']").val('0');
     	$("input[name='Green Roof Construction GHG']").val('0');
	$("input[name='Green Roof C Coefficient']").val('0');

	$("input[name='Green Roof Design and Capital Costs']").val('0');
	$("input[name='Green Roof Annual Maintenance Costs']").val('0');
        }
     });
});
</script>


<td class="formsection2">
<label><b>Rain Barrels and Cisterns</b></label><input type="checkbox" checked name="Rain Barrels and Cisterns">
  <br><label>Curve Number Value[CN]</label>
  <br><input type="range" min="0" max="100" value="85" class="slider-width" name="RB and Cistern CN Value">
  <br><label>Rain Barrels and Cisterns Footprint [m2]</label>
  <br><input type="number" min="0" max="500000" step="1" value="1000" size="30" name="RB and Cistern Footprint" >
  <br><label>Design and Construction Cost [$/m2]</label>
  <br><input type="number" min="0" max="5000" step="1" value="700" size="30" name="RB Design and Capital Costs" >
  <br><label>Annual Maintenance COst [$/m2]</label>
  <br><input type="number" min="0" max="5000" step="1" value="1250" size="30" name="RB and Cistern Annual Maintenance Costs" >
  <br><label>Construction GHG [kgCO2eg/m2]</label>
  <br><input type="number" min="0" max="10000" step="0.01" value="20.15" size="30" name="RH System Construction GHG" >
<br><label>RB and Cistern Storage Volume</label>
  <br><input type="number" min="0" max="10000" step="0.01" value="2000" size="30" name="RB and Cistern Storage Volume" >


</td>
<script>
$(document).ready(function(){
  $("input[name='Rain Barrels and Cisterns']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
	$("input[name='RB and Cistern Footprint']").val('0');
     	$("input[name='RH System Construction GHG']").val('0');
	$("input[name='RB Design and Capital Costs']").val('0');
	$("input[name='RB and Cistern Annual Maintenance Costs']").val('0');
	$("input[name='RB and Cistern Storage Volume']").val('0');

        }
     });
});
</script>
<td valign="top"  class="formsection2">
<label><b>Bioretention and Rain Gardens</b></label><input type="checkbox" checked name="Bioretention and Rain Gardens">
<br><label>Curve Number Value[CN]</label>
  <br><input type="range" min="0" max="100" value="45" class="slider-width" name="Bioretention CN Value">
  <br><label>Bioretention and RG Footprint [m2]</label>
  <br><input type="number" min="0" max="50000" step="1" value="3000" size="30" name="Biortention Footprint" >
  <br><label>Design and Construction Cost [$/m2]</label>
  <br><input type="number" min="0" max="5000" step="1" value="1000" size="30" name="Bioretenion Design and Capital Costs" >
  <br><label>Annual Maintenance COst [$/m2]</label>
  <br><input type="number" min="0" max="50000" step="1" value="5000" size="30" name="Biortention Annual Maintenance Costs" >
  <br><label>Construction GHG [kgCO2eg/m2]</label>
  <br><input type="number" min="0.1" max="5" step="0.0001" value=".2115" size="30" name="Bioretention Construction GHG" >
</td>
<script>
$(document).ready(function(){
  $("input[name='Bioretention and Rain Gardens']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
        $("input[name='Bioretention Footprint']").val('0');
	$("input[name='Bioretention Design and Capital Costs']").val('0');
	$("input[name='Bioretention Roof Annual Maintenance Costs']").val('0');
        }
     });
});
</script>
<td class="formsection2">
<label><b>Bioswales</b></label><input type="checkbox" name ="Bioswale" checked ">
<br>  <label>Curve Number Value[CN]</label>
  <br><input type="range" min="0" max="100" value="42" class="slider-width" name="Bioswale CN Value">
  <br><label>Bioswale Footprint [m2]</label>
  <br><input type="number" min="0" max="15000" step="1" value="3000" size="30" name="Bioswale Footprint" >
  <br><label>Design and Construction Cost [$/m2]</label>
  <br><input type="number" min="0" max="5000" step="1" value="1000" size="30" name="Bioswale Design and Capital Costs" >
  <br><label>Annual Maintenance Cost [$/m2]</label>
  <br><input type="number" min="0" max="500" step="1" value="100" size="30" name="Bioswale Annual Maintenance Costs" >
  <br><label>Construction GHG [kgCO2eg/m2]</label>
  <br><input type="number" min="0.1" max="5" step="0.001" value="0.2115" size="30" name="Bioswale Construction GHG" >
</td>
<script>
$(document).ready(function(){
  $("input[name='Bioswale']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
        $("input[name='Bioswale Footprint']").val('0');
	$("input[name='Bioswale Design and Capital Costs']").val('0');
	$("input[name='Bioswale Roof Annual Maintenance Costs']").val('0');
       	$("input[name='Bioswale Construction GHG']").val('0');

	 }
     });
});
</script>
</tr>
<tr>
<td valign="top" class="formsection2">
<h3>Qualitative Indicators</h3>
<label>Affordability[Dmnls] </label>
<br><input type="range" min="1" max="5"  class="slider-width" name="Porous Pavement Affordability"><br>
<label>Reliability [Dmls]</label>
<br><input type="range" min="1" max="5"  class="slider-width" name="Porous Pavement Reliability"><br>
<label>Acceptability [Dmls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="Porous Pavement Acceptability"><br>
<label>Risk to Human Health [Dmnls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="Prous Pavement Risk to Human Health"><br>
<label>Spatial Requriements [Dmnls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="Porous Pavement Space Requirements"><br>
<label>Flexibility and Adaptability [Dmnls] </label>
<br><input type="range" min="1" max="100" value="5" class="slider-width" name="Porous Pavement Flexibility and Adaptability"><br>
</div>
</td>
<td class="formsection2">
<h3>Qualitative Indicators</h3>
<label>Affordability[Dmnls] </label>
<br><input type="range" min="1" max="5"  class="slider-width" name="Green Roof Affordability"><br>
<label>Reliability [Dmls]</label>
<br><input type="range" min="1" max="5" class="slider-width" name="Green Roof Reliability"><br>
<label>Acceptability [Dmls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="Green Roof Acceptability"><br>
<label>Risk to Human Health [Dmnls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="Green Roof Risk to Human Health"><br>
<label>Spatial Requriements [Dmnls] </label>
<br><input type="range" min="1" max="5"  class="slider-width" name="Green Roof Space Requirements"><br>
<label>Flexibility and Adaptability [Dmnls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="Green Roof Flexibility and Adaptability"><br>
</div>
</td>
<td  class="formsection2">
<h3>Qualitative Indicators</h3>
<label>Affordability[Dmnls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="Rain Barrels and Cisterns Affordability"><br>
<label>Reliability [Dmls]</label>
<br><input type="range" min="1" max="5" class="slider-width" __name="Rain Barrels and Cisterns Reliability"><br>
<label>Acceptability [Dmls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="Rain Barrels and Cisterns Acceptability"><br>
<label>Risk to Human Health [Dmnls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="Rain Barrels and Cisterns Risk to Human Health"><br>
<label>Spatial Requriements [Dmnls] </label>
<br><input type="range" min="1" max="5"  class="slider-width" name="Rain Barrels and Cisterns Space Requirements"><br>
<label>Flexibility and Adaptability [Dmnls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="Rain Barrels and Cisterns Flexibility and Adaptability"><br>
</td>
<td valign="top" class="formsection2">
<h3>Qualitative Indicators</h3>
<label>Affordability[Dmnls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="Biortetention Affordability"><br>
<label>Reliability [Dmls]</label>
<br><input type="range" min="1" max="5" class="slider-width" name="Bioretention Reliability"><br>
<label>Acceptability [Dmls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="Bioretention Acceptability"><br>
<label>Risk to Human Health [Dmnls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="Bioretention Risk to Human Health"><br>
<label>Spatial Requriements [Dmnls] </label>
<br><input type="range" min="1" max="5"  class="slider-width" name="Bioretention Space Requirements"><br>
<label>Flexibility and Adaptability [Dmnls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="Bioretention Flexibility and Adaptability"><br>
</td>
<td class="formsection2">
<h3>Qualitative Indicators</h3>
<label>Affordability[Dmnls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="Bioswale Affordability"><br>
<label>Reliability [Dmls]</label>
<br><input type="range" min="1" max="5" class="slider-width" name="Bioswale Reliability"><br>
<label>Acceptability [Dmls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="Bioswale Acceptability"><br>
<label>Risk to Human Health [Dmnls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="Bioswale Risk to Human Health"><br>
<label>Spatial Requriements [Dmnls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="Bioswale Space Requirements"><br>
<label>Flexibility and Adaptability [Dmnls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="Bioswale Flexibility and Reliability"><br>
</td>
</tr>
<tr>
<td>
 <button type="button" style="font-size: 14px; height:40px; width:160px;" id="NeighborhoodHydrologyQuery">Run Simulation</button>
</td>
</tr>
</table>
</form>
<script>
  $("#NeighborhoodHydrologyQuery").click(function() {  
  $(this).parent().parent().parent().parent().parent().parent().hide();
  $("#loading-div-background").show();
  $(".mainpic").hide();
  var qu ={};
  
  $("form#NeighborhooldHydrologyForm :input").each(function() {
        qu[$(this).attr("name")] = $(this).val();
  });
  $.ajax({
    type: "POST",
    async:true,
    contentType: "application/json; charset=utf-8",
    url: "/query",
    data: JSON.stringify(qu),
    dataType: "html",
    success: function(response)
	 {     
	 $("#loading-div-background").hide();   
	 $(".menu").show();
         document.write(response);
     }
   });
});

 

</script>


</div>

<!-- ****** END OF NEIGHBORHOOD HYDROLOGY   ***************    -->


<!-- ******************************************************    -->
<!-- *****     BEGINNING OF REUSE RECYCLE SYSTEMS     *****    -->
<!-- ******************************************************    -->

<a class="popup-trigger" rel="nofollow">Reuse/Recycle Systems</a>
<br>
<div class="popup" style="height:500px;">
<form id="ReuseRecycleSystemsForm" method="POST">
<table class="formcontainer">
<tr>
<td><h3 id="myModalLabel">Reuse/Recycle Systems</h3>
</td>
<td colspan=3 align=right class="popup-btn-close">
close
</td>
<tr>
<td class="formsection2">
<label><b>Rainwater Harvesting Scheme </b></label><input type="checkbox" checked name="Rainwater Harvesting Scheme" >
<br><label>Runoff Coefficient for Imper. Areas [C]</label>
<br><input type="range" min="0" max="1" step="0.01" value= "0.75" class="slider-width" name="IA Runoff Coefficient">
<br><label>Car Parking Lots [m2]</label>
<br><input type="number" min="0" max="100000" step="1" value="2000" size="30" name="IA Parking Footprint" >
<br><label>Standard Roofs [m2]</label>
<br><input type="number" min="0" max="100000" step="1" value="2000" size="30" name="IA Stanford Roof Footprint" >
<br><label>Roads and Sidewalks [m2]</label>
<br><input type="number" min="0" max="100000" step="1" value="2000" size="30" name="IA Roads and Sidewalks Footprint" >
<br><label>Percentage of IA Harvested [m2]</label>
<br><input type="number" min="0" max="1" step=".01" value="0.75" size="30" name="IA Percentage of Area Collected" >
<!--<br><label>Total Storage Capacity [m3]</label>
<br><input type="number" min="0" max="100" step="1" value="0" size="30" name="IA Storage Capacity" >
--></td>
<script>
$(document).ready(function(){
  $("input[name='Rainwater Harvesting Scheme']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
        $("input[name='IA Percentage of Area Collected']").val('0');
	 }
     });
});
</script>

<td class="formsection2">
<label><b>Greywater Reuse GWR) </b></label><input type="checkbox" checked name="Greywater Reuse" >
<br><label>Average Tank Volume [m3]</label>
<br><input type="number" min="0" max="200" step="1" value="50" size="30" name="GWS Average Size of Tank" >
<br><label>Number of Tanks [m2]</label>
<br><input type="number" min="0" max="10" step="1" value="2" size="30" name="GWS Number of Tanks" >
<br><label>Capital Costs [$]</label>
<br><input type="number" min="0" max="100000" step="1" value="50000" size="30" name="GWS Installation Costs" >
<br><label>Annual Maintenance Costs [$]</label>
<br><input type="number" min="0" max="25000" step="1" value="10000" size="30" name="GWS Annual Maintenance Costs" >
<br><label>Costs of Plumbing [$/m2]</label>
<br><input type="number" min="0" max="25000" step="1" value="1250" size="30" name="GWS Plumbing Costs per m2" >
<br><label>New Plumbing Area [m2]</label>
<br><input type="number" min="0" max="200000" step="1" value="60000" size="30" name="GWS Plumbing Area" >
</td>
<script>
$(document).ready(function(){
  $("input[name='Greywater Ruse']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
        $("input[name='GWS Average Size of Tank']").val('0');
        $("input[name='GWS Number of Tanks']").val('0');
        $("input[name='GWS Installation Costs']").val('0');
        $("input[name='GWS Annual Maintenance Costs']").val('0');
        $("input[name='GWS Plumbing Costs per m2']").val('0');
        $("input[name='GWS Plumbing Area']").val('0');
	 }
     });
});
</script>
<td  class="formsection2">
<label><b>Quantity of Blackwater</b></label><input type="checkbox" checked name="Quantity of Blackwater" >
<br><label>Percentage of total water consumption in office </label>
<br><input type="number" min="0" max="1" step="0.01" value="0.32" size="30" name="Dem OB Restroom" >
<br><label>Percentage of total water consumption in hospitals </label>
<br><input type="number" min="0" max="1" step="0.01" value="0.45" size="30" name="Dem Hospitals Restroom" >
<br><label>Percentage of total water consumption in schools </label>
<br><input type="number" min="0" max="1" step="0.01" value="0.35" size="30" name="Dem Schools Restroom" >
<br><label>Hospital Demand with LM</label>
<br><input type="number" min="0" max="100" step="1" value="0.5" size="30" name="LM Percentage for Hospitals" >
<br><label>School Demand with LM [%]</label>
<br><input type="number" min="0" max="1" step="0.01" value="0.88" size="30" name="LM Percentage of Schools" >
<br><label>Office Building Demand with LM [%]</label>
<br><input type="number" min="0" max="1" step=".1" value="0.5" size="30" name="LM Percentage of OB" >
</td>
<script>
$(document).ready(function(){
  $("input[name='Quantity of Blackwater']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
        $("input[name='Dem OB Restroom']").val('0');
        $("input[name='LM Percentage for Hospitals']").val('0');
        $("input[name='Dem Hospitals Restroom']").val('0');
        $("input[name='LM Percentage for Hospitals']").val('0');
        $("input[name='Dem Schools Restroom']").val('0');
        $("input[name='LM Percentage of Schools']").val('0');
	 }
     });
});
</script>
</tr>
<tr>
<td class="formsection2">
<label><b>Rainwater Harvesting Pumps </b></label><input type="checkbox" checked name="Rainwater Harvesting Pumps" >
<br><label>Number of Pumps [No]</label>
<br><input type="number" min="0" max="20" step="1" value="2" size="30" name="RHP Number of Pumps" >
<br><label>Average Dynamic Head [m]]</label>
<br><input type="number" min="0" max="24" step="1" value="6" size="30" name="RHP Average Dynamic Head" >
<br><label>Hours of Operation [hrs]</label>
<br><input type="number" min="0" max="100" step="1" value="0" size="30" name="RHP Duration of Pump Operation" >
<br><label>Capital Costs [$]</label>
<br><input type="number" min="0" max="1000000" step="1" value="150000" size="30" name="RHP Construction and Installation" >
<br><label>Annual Maintenance Costs [$]</label>
<br><input type="number" min="0" max="100000" step="1" value="1500" size="30" name="RHP Annual Maintenance" >
<br><label>Rainwater harvesting pump efficiency</label>
<br><input type="number" min="0" max="100" step="1" value="93" size="30" name="RHP Pump Efficiency" >
<br><label>Rainwater harvesting pump variable speed drive efficiency</label>
<br><input type="number" min="0" max="100" step="1" value="88" size="30" name="RHP Variable Speed Drive Efficiency" >
<br><label>Rainwater harvesting pump motor efficiency</label>
<br><input type="number" min="0" max="100" step="1" value="88" size="30" name="RHP Motor Efficiency" >

</td>
<td class="formsection2">
<label><b>Greywater Pumps</b></label><input type="checkbox" checked name="Greywater System Pumps" >
<br><label>Number of Pumps [No]</label>
<br><input type="number" min="0" max="20" step="1" value="33" size="30" name="GWP Number of Pumps" >
<br><label>Construction and Installation Costs</label>
<br><input type="number" min="0" max="10000000" step="1" value="28000" size="30" name="GWP Construction and Installation" >
<br><label>Annual Maintenance Costs [$]</label>
<br><input type="number" min="0" max="500000" step="1" value="3500" size="30" name="GWP Annual Maintenance" >
<br><label>Pump efficiency coefficient</label>
<br><input type="number" min="0" max="100" step="1" value="88" size="30" name="GWP Pump Efficiency">
<br><label>Variable speed drive efficiency</label>
<br><input type="number" min="0" max="500" step="1" value="85" size="30" name="GWP Variable Drive Speed Efficiency" >
<br><label>Motor Efficiency</label>
<br><input type="number" min="0" max="100" step="1" value="90" size="30" name="GWP Motor Efficiency">
<br><label>Average Dynamic Head [m]]</label>
<br><input type="number" min="0" max="500" step="1" value="35" size="30" name="GWP Average Dynamic Head" >
<br><label>Daily duration of pump operation</label>
<br><input type="number" min="0" max="24" step="1" value="24" size="30" name="GWP Duration of Pump Operation" >
</td>
<td class="formsection2">
<label><b>Blackwater Reuse</b></label><input type="checkbox" checked name="Blackwater Reuse" >
<br><label>Installation and construction costs</label>
<br><input type="number" min="0" max="50000" value="2500" name="LM Installation and Construction">
<br><label>Number of LM [#]</label>
<br><input type="number" min="1" max="20" value="10"  name="LN Number of LM">
<br><label>Annual maintenance fees for LM</label>
<br><input type="number" min="0" max="20000" step="1" value="8000" size="30" name="LM Annual Maintenance" >
<br><label>GHG Footprint [kgCO2eq/m3]</label>
<br><input type="number" min="0" max="20" step="1" value="18" size="30" name="LM GHG per m3">
<br><label>Energy Required for Treatment [kWh/m3]</label>
<br><input type="number" min="0" max="10" step="0.1" value="4.5" size="30" name="LM kWh per m3" >
<br><label>Total Daily Treatment Capacity [m3/day]</label>
<br><input type="number" min="0" max="10000" step="1" value="1000" size="30" name="LM Maximum Daily Capacity" >
</td>
</tr>
<tr>
<td class="formsection2">
<h3>Qualitative Indicators</h3>
<label>Affordability[Dmnls] </label>
<br><input type="range" min="1" max="5"  value="3" class="slider-width" name="RWH Affordability"><br>
<label>Reliability [Dmls]</label>
<br><input type="range" min="1" max="5"  value="3" class="slider-width" name="RWH Reliability"><br>
<label>Acceptability [Dmls] </label>
<br><input type="range" min="1" max="5"  value="3" class="slider-width" name="RWH Acceptability"><br>
<label>Risk to Human Health [Dmnls] </label>
<br><input type="range" min="1" max="5"  value="3" class="slider-width" name="RWH Risk to Human Health"><br>
<label>Spatial Requriements [Dmnls] </label>
<br><input type="range" min="1" max="5"  value="3" class="slider-width" name="RWH Space Requirements"><br>
<label>Flexibility and Adaptability [Dmnls] </label>
<br><input type="range" min="1" max="5"  value="3" class="slider-width" name="RWH Flexibility and Adaptability"><br>
</td>
<script>
$(document).ready(function(){
  $("input[name='Rainwater Harvesting Pumps']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
        $("input[name='RHP Annual Maintenance']").val('0');
        $("input[name='RHP Construction and Installation']").val('0');
        $("input[name='RHP Motor Efficiency']").val('0');
        $("input[name='RHP Average Dynamic Head']").val('0');
        $("input[name='RHP Duration of Pump Operation']").val('0');
        $("input[name='RHP Number of Pumps']").val('0');
        $("input[name='RHP Variable Speed Drive Efficiency']").val('0');
        $("input[name='RHP Pump Efficiency']").val('0');
	$("input[name='RWH Affordability']").val('0');
	$("input[name='RWH Reliability']").val('0');
	$("input[name='RWH Acceptability']").val('0');
	$("input[name='RWH Risk to Human Health']").val('0');
	$("input[name='RWH Space Requirements']").val('0');
	$("input[name='RWH Flexibility and Adaptability']").val('0');
}
     });
});
</script>

<td  class="formsection2">
<h3>Qualitative Indicators</h3>
<label>Affordability[Dmnls] </label>
<br><input type="range" min="1" max="5"  value="3" class="slider-width" name="GWS Affordability"><br>
<label>Reliability [Dmls]</label>
<br><input type="range" min="1" max="5"  value="3" class="slider-width" name="GWS Reliability"><br>
<label>Acceptability [Dmls] </label>
<br><input type="range" min="1" max="5"  value="3" class="slider-width" name="GWS Acceptability"><br>
<label>Risk to Human Health [Dmnls] </label>
<br><input type="range" min="1" max="5"  value="3" class="slider-width" name="GWS Risk to Human Health"><br>
<label>Spatial Requriements [Dmnls] </label>
<br><input type="range" min="1" max="5"   value="3" class="slider-width" name="GWS Space Requirements"><br>
<label>Flexibility and Adaptability [Dmnls] </label>
<br><input type="range" min="1" max="5"  value="3" class="slider-width" name="GWS Flexibility and Adaptability"><br>
</td>
<script>
$(document).ready(function(){
  $("input[name='Greywater System Pumps']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
        $("input[name='GWP Number of Pumps']").val('0');
        $("input[name='GWP Construction and Installation']").val('0');
        $("input[name='GWP Annual Maintenance']").val('0');
        $("input[name='GWP Pump Efficiency']").val('0');
        $("input[name='GWP Variable Drive Speed Efficiency']").val('0');
        $("input[name='GWP Motor Efficiency']").val('0');
        $("input[name='GWP Average Dynamic Head']").val('0');
        $("input[name='GWP Duration of Pump Operation']").val('0');

	$("input[name='GWS Affordability']").val('0');
	$("input[name='GWS Reliability']").val('0');
	$("input[name='GWS Acceptability']").val('0');
	$("input[name='GWS Risk to Human Health']").val('0');
	$("input[name='GWS Space Requirements']").val('0');
	$("input[name='GWS Flexibility and Adaptability']").val('0');
	 }
     });
});
</script>

<td class="formsection2">
<h3>Qualitative Indicators</h3>
<label>Affordability[Dmnls] </label>
<br><input type="range" min="1" max="5"  class="slider-width" name="LM Affordability"><br>
<label>Reliability [Dmls]</label>
<br><input type="range" min="1" max="5" class="slider-width" name="LM Reliability"><br>
<label>Acceptability [Dmls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="LM Acceptability"><br>
<label>Risk to Human Health [Dmnls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="LM Risk to Human Health"><br>
<label>Spatial Requriements [Dmnls] </label>
<br><input type="range" min="1" max="5"  class="slider-width" name="LM Space Requirements"><br>
<label>Flexibility and Adaptability [Dmnls] </label>
<br><input type="range" min="1" max="5" class="slider-width" name="LM Flexibility and Adaptability"><br>
</td>
<script>
$(document).ready(function(){
  $("input[name='Blackwater Reuse']").change(function() {
     if(!this.checked) {
        alert("Overriding the default values for "+this['name']);
        $("input[name='LM Installation and Construction']").val('0');
        $("input[name='LN Number of LM']").val('0');
        $("input[name='LM Annual Maintenance']").val('0');
        $("input[name='LM GHG per m3']").val('0');
        $("input[name='LM kWh per m3']").val('0');
        $("input[name='LM Maximum Daily Capacity']").val('0');
        $("input[name='LM Affordability']").val('0');
        $("input[name='LM Reliability']").val('0');
        $("input[name='LM Acceptability']").val('0');
        $("input[name='LM Risk to Human Health']").val('0');
        $("input[name='LM Space Requirement']").val('0');
        $("input[name='LM Flexibility and Adaptabilit']").val('0');


	 }
     });
});
</script>

</tr>
<tr>
<td>
 <button type="button" style="font-size: 14px; height:40px; width:160px;" id="ReuseRecycleSystemsQuery">Run Simulation</button>
</td>
</tr>
</table>
</div>
<br>
</p>

</td>
</tr>
<tr>
<td colspan="1">
<img  class="mainpic" src="../static/images/iwret_logo.png" height=100px>
</td>
</tr>
</table>
<script>
  $("#ReuseRecycleSystemsQuery").click(function() {  
  $(this).parent().parent().parent().parent().parent().parent().hide();
  $("#loading-div-background").show();
  $(".mainpic").hide();
  var qu ={};
  $("form#ReuseRecycleSystemsForm :input").each(function() {
        qu[$(this).attr("name")] = $(this).val();
  });
  $.ajax({
    type: "POST",
    async:true,
    contentType: "application/json; charset=utf-8",
    url: "/query",
    data: JSON.stringify(qu),
    dataType: "html",
    success: function(response)
	 {     
	 $("#loading-div-background").hide();   
	 $(".menu").show();
         document.write(response);
     }
   });
});
</script>

<script>
$("#loading-div-background").css({ opacity: 0.7 });
function datetime_to_epoch(datetime) {
    var aDate = datetime.split('/');
    var epoch = new Date(aDate[2] + "," + aDate[0] + "," + aDate[1]).getTime() / 1000;
    return epoch;
}
var scrollTop = '';
var newHeight = '20';
$(window).bind('scroll', function() {
   scrollTop = $( window ).scrollTop();
           newHeight = scrollTop ;
        });
        $('.popup-trigger').click(function(e) {
         e.stopPropagation();
         if(jQuery(window).width() < 67) {
           $(this).after( $(this).nextAll('.popup:first') );
           $(this).nextAll('.popup:first').show().addClass('popup-mobile');
           $('html, body').animate({
                        scrollTop: $(this).nextAll('.popup:first')
                }, 0);
         } else {
         $('.popup').hide();
         $(this).nextAll('.popup:first').removeClass('popup-mobile').css('top', newHeight).toggle();
         };
        });
        $('html').click(function() {
         $('.popup').hide();
        });
        $('.popup-btn-close').click(function(e){
          $(this).parent().parent().parent().parent().hide();
        });
        $('.popup').click(function(e){
          e.stopPropagation();
        });
	var FormData = [
	{
 	   WTField1: "xx",
 	   WTField2: "xx",
 	   WTFiled3: "xx"
	},
	{
 	   WDField1: "xx",
 	   WDField2: "xx",
 	   WDField3: "xx"
	},
	{
 	   PSField1: "xx",
	   PSField2: "xx",
	   PSField3: "xx"
	},
	];


function convertArrayOfObjectsToCSV(args) 
{
	var result, ctr, keys, columnDelimiter, lineDelimiter, data;
	data = args.data || null;
	if (data == null || !data.length) {
  	  return null;
	}
	columnDelimiter = args.columnDelimiter || ',';
	lineDelimiter = args.lineDelimiter || '\n';
	keys = Object.keys(data[0]);
	result = '';
	result += keys.join(columnDelimiter);
	result += lineDelimiter;
	data.forEach(function(item) {
        ctr = 0;
        keys.forEach(function(key) {
            if (ctr > 0) result += columnDelimiter;
        result += item[key];
        ctr++;
    	});
    	result += lineDelimiter;
      });
    return result;
}

function downloadCSV(args) {
    var data, filename, link;
    var csv = convertArrayOfObjectsToCSV({
       data: FormData
 	   });
    if (csv == null) return;
    filename = args.filename || 'export.csv';
    if (!csv.match(/^data:text\/csv/i)) {
        csv = 'data:text/csv;charset=utf-8,' + csv;
    }
    data = encodeURI(csv);
    link = document.createElement('a');
    link.setAttribute('href', data);
    link.setAttribute('download', filename);
    link.click();
}

</script>
</html>
